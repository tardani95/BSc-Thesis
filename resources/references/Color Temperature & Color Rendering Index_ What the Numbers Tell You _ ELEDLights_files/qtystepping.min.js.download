define(['jquery','domReady!'],function($j){"use strict";var predatavalues='';var preqty_values='';if($j("#qty.input-text.qty").length){if(jQuery('input#qty.input-text.qty').attr('datavalues')){predatavalues=$j('input#qty.input-text.qty').attr('datavalues');preqty_values=predatavalues.split(',');}
if(preqty_values.length>=1&&preqty_values[0]>=1){$j('input#qty.input-text.qty').val(preqty_values[0]);}}
$j('.field.qty input.input-text.qty').focusout(function(){$j.qtyStep(this);});$j.miniCartQtyStep=function(input){$j(input).focusout(function(){$j.qtyStep(this);});};$j.qtyStep=function(qtyfld){var qty_values=1;var track=false;var qty_step=1;if($j(qtyfld).attr('datavalues')!==''){track=true;var datavalues=$j(qtyfld).attr('datavalues');qty_values=datavalues.split(',');if($j(qtyfld).attr('datainc')!==''){qty_step=parseInt($j(qtyfld).attr('datainc'));}}
var qty=parseInt($j("#qty").val());if(track){qty=parseInt($j(qtyfld).val());}
var oldQty=qty;if(qty_values.length>=1){var qtyAlert=false;var last=qty_values[0];var set=false;if(qty<parseInt(qty_values[0])){qty=parseInt(qty_values[0]);qtyAlert=true;set=true;}else{$j.each(qty_values,function(key,value){value=parseInt(value);if(qty<=value){if(qty<value){qtyAlert=true;}
qty=value;last=value;set=true;return false;}else{last=value;}});}
if(!set){while(last<qty){last=last+qty_step;}
if(last>qty){qty=last;qtyAlert=true;}}
if(qty==0){qty=qty_values[0];qtyAlert=true;}
if(qtyAlert||qty>oldQty){alert('A Quantity of '+oldQty+' can not be used.\n\nQuantity will be adjusted to: '+qty);}
if(track){$j(qtyfld).val(qty);}else{$j("#qty").val(qty);}}};});