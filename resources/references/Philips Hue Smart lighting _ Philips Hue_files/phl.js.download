(function(){var getDG=function(){var x={};return x;};var getP=function(){var x={};try{x['-2070068800']=['.p-masthead-background > picture source:nth-of-type(1)', 'div.f03-footer-container > footer', 'div.i11-externalsystem section', 'div.p-bg-gradient-lowcontrastultra > div:nth-of-type(2) > div.parsys > div:nth-of-type(4) > section', 'div:nth-of-type(3) > section.p-gc04v3-gridcontainer', 'div:nth-of-type(3) > section.p-gc04v3-gridcontainer > div.p-gc04-positioning > div.p-grid > div.p-grid-item', 'section.p-mh01v2-simplemasthead', 'section.p-t02-recently-viewed'];x['86763360']=x['-2070068800'];x['1435663136']=['.p-masthead-background > picture source:nth-of-type(1)', 'div.i11-externalsystem section', 'div.p-heading-01', 'div.p-quick-links', 'div.parsys > div:nth-child(7) > section > div > div', 'div:nth-of-type(3) > section.p-gc04v3-gridcontainer', 'div:nth-of-type(9) > section.p-gc04v3-gridcontainer', 'section.p-mh01v2-simplemasthead', 'section.p-mh01v2-simplemasthead#p-mh01v2-simplemasthead  p-inverted  p-full-bleed', 'section[id=\'cases\']', 'section[id=\'contact\']', 'section[id=\'get-in-touch\']'];x['-646223904']=x['1435663136'];x['1945850880']=['body.genericpage div.d76-product-finder', 'body.genericpage div.d76a-product-finder', 'body.homepage div.parsys div.gc04v3-gridcontainer:nth-of-type(3)', 'div.catfinder > div.p-layout-row > div.p-layout-inner', 'div.p-d76-product-finder-results > div.p-one-whole', 'div.p-logo-default > img', 'div:nth-of-type(7) > section.p-gc04v3-gridcontainer', 'section.p-t02-recently-viewed', 'section[id=\'creatingvalue\']'];x['115470208']=x['1945850880'];x['-560448992']=['div.i11-externalsystem section', 'div.parsys > div:nth-child(7) > section > div > div', 'div:nth-of-type(9) > section.p-gc04v3-gridcontainer', 'section.p-mh01v2-simplemasthead', 'section[id=\'get-in-touch\']'];x['1359609024']=['div.i11-externalsystem section', 'div:nth-of-type(9) > section.p-gc04v3-gridcontainer', 'section.p-mh01v2-simplemasthead', 'section[id=\'get-in-touch\']'];x['-896545632']=['div.p-simplemasthead-text-background > h1 > span.p-heading-light', 'div.par > div.gc04v3-gridcontainer > section.p-gc04v3-gridcontainer', 'section[id=\'relatedpages\']'];x['1615429120']=['div.par > div.gc04v3-gridcontainer > section.p-gc04v3-gridcontainer', 'section[id=\'relatedpages\']'];x['-1218581856']=x['1615429120'];x['1658823456']=['div.recentlyviewed'];x['-295756416']=['div:nth-of-type(3) > section > div.p-d76-product-finder-results > div.p-grid > div:nth-of-type(1) > a.p-category-result-item-container > div.p-title > div.p-title-content', 'div:nth-of-type(4) > section > div.p-d76-product-finder-results > div.p-grid > div:nth-of-type(2) > a.p-category-result-item-container'];x['119274688']=['section.mh71mastheadrandomised'];x['-223822976']=['section.p-gc04v3-gridcontainer'];x['-1695319264']=['section[id=\'p-d76a-product-finder\']'];}catch(err){}return x;};(function(n){window.blueConicPreListeners=[];(function(){var n=!1,sa=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.BCClass=function(){};BCClass.extend=function(K){function F(){!n&&this.init&&this.init.apply(this,arguments)}var ta=this.prototype;n=!0;var oa=new this;n=!1;for(var S in K)oa[S]="function"==typeof K[S]&&"function"==typeof ta[S]&&sa.test(K[S])?function(n,F){return function(){var G=this._super;this._super=ta[n];var S=F.apply(this,arguments);this._super=G;return S}}(S,K[S]):K[S];F.prototype=
oa;F.constructor=F;F.extend=arguments.callee;return F}})();var InteractionType=BCClass.extend({init:function(){},getPreloadProperties:function(){return [];},getContent:function(){},onEvent:function() {},importLibraries:function(urls) {blueConic.fn.importLibraries.call(this, urls);}});(function(){var InteractionTypeImpl=InteractionType.extend({init:function(a,b){this.blueConicClient=a,this.context=b,this.profile=a.profile.getProfile(),this.referrer=document.referrer,this.currentUrl=window.location.href,this.ORIGIN_TYPES={WEB:"web",MOBILE_WEB:"mobile_web",CONNECTION:"connection",MOBILE:"mobile_app"},this.PROFILE_PROPERTIES={CLICKCOUNT:"clickcount",VISITS:"visits",VISITCLICKS:"visitclicks",LASTVISITDATE:"lastvisitdate",VISITEDSITES:"visitedsites",VISITEDDOMAIN:"visiteddomain",ENTRYPAGE:"entrypage",REFERRERHOST:"referrerhost",REFERRERHOSTS:"referrerhosts",HOSTENTRYPAGE:"hostentrypage",HOSTAVERAGETIME:"hostaveragetime",LASTREFERRERAVERAGE:"lastreferreraverage",AVERAGETIME:"averageTime",RESOLUTION:"resolution",CURRENTRESOLUTION:"currentresolution",CURRENTSCREENWIDTH:"currentscreenwidth",CURRENTSCREENHEIGHT:"currentscreenheight",ORIGIN_TYPE:"origin_type",ORIGIN_SOURCE:"origin_source",ORIGIN_DETAIL:"origin_detail",DEVICETYPE:"devicetype",RECEIVED_FROM_SYSTEM:"received_from_system",RECEIVED_FROM_CONNECTION:"received_from_connection",MOBILE_APP_ID:"mobile_app_id",MOBILE_APP_NAMEVERSION:"mobile_app_nameversion",LANGUAGE:"language",KEYWORDS:"keywords",CURRENTKEYWORDS:"currentkeywords",CURRENT_UTM_SOURCE:"current_utm_source",CURRENT_UTM_MEDIUM:"current_utm_medium",CURRENT_UTM_TERM:"current_utm_term",CURRENT_UTM_CONTENT:"current_utm_content",CURRENT_UTM_CAMPAIGN:"current_utm_campaign",UTM_SOURCE:"utm_source",UTM_MEDIUM:"utm_medium",UTM_TERM:"utm_term",UTM_CONTENT:"utm_content",UTM_CAMPAIGN:"utm_campaign"}},onPrepare:function(){var a=this.profile;this._setLanguageProperties(a),this._setResolutionProperties(a),this._setReferrerProperties(a),this._setCampaignProperties(a)},getPreloadProperties:function(){return[this.PROFILE_PROPERTIES.CLICKCOUNT,this.PROFILE_PROPERTIES.VISITS,this.PROFILE_PROPERTIES.VISITCLICKS,this.PROFILE_PROPERTIES.LASTVISITDATE,this.PROFILE_PROPERTIES.VISITEDSITES,this.PROFILE_PROPERTIES.ENTRYPAGE,this.PROFILE_PROPERTIES.HOSTENTRYPAGE,this.PROFILE_PROPERTIES.HOSTAVERAGETIME,this.PROFILE_PROPERTIES.LASTREFERRERAVERAGE,this.PROFILE_PROPERTIES.AVERAGETIME,this.PROFILE_PROPERTIES.RESOLUTION,this.PROFILE_PROPERTIES.DEVICETYPE,this.PROFILE_PROPERTIES.ORIGIN_TYPE,this.PROFILE_PROPERTIES.ORIGIN_SOURCE,this.PROFILE_PROPERTIES.ORIGIN_DETAIL,this.PROFILE_PROPERTIES.RECEIVED_FROM_SYSTEM,this.PROFILE_PROPERTIES.RECEIVED_FROM_CONNECTION,this.PROFILE_PROPERTIES.VISITEDDOMAIN,this.PROFILE_PROPERTIES.MOBILE_APP_ID,this.PROFILE_PROPERTIES.MOBILE_APP_NAMEVERSION]},onLoad:function(){var a=this.profile;this._setHostProperties(a),this._setVisitProperties(a),this._setOriginProperties(a),blueConicClient.profile.updateProfile()},_setLanguageProperties:function(a){var b=window.navigator.userLanguage||navigator.systemLanguage||window.navigator.language;if(!b)return null;var c=-1===b.indexOf("-")?b.indexOf("_"):b.indexOf("-");-1!==c&&(b=b.substring(0,c)),b&&a.setValue(this.PROFILE_PROPERTIES.LANGUAGE,b.toLowerCase())},_setResolutionProperties:function(a){var b=screen.width,c=screen.height,d=b+"x"+c;a.setValue(this.PROFILE_PROPERTIES.CURRENTRESOLUTION,d),a.setValue(this.PROFILE_PROPERTIES.CURRENTSCREENWIDTH,b),a.setValue(this.PROFILE_PROPERTIES.CURRENTSCREENHEIGHT,c),a.addValue(this.PROFILE_PROPERTIES.RESOLUTION,d)},_setReferrerProperties:function(a){var b=this.referrer,c=this.HELPER.decodeReferrer(b),d=[];if(c&&0<c.length)for(var e=0;e<c.length;e++)c[e]&&(a.addValue(this.PROFILE_PROPERTIES.KEYWORDS,c[e]),d.push(c[e]));0<d.length&&a.setValues(this.PROFILE_PROPERTIES.CURRENTKEYWORDS,d);var f=b.replace(/http[s]?:\/\/(.*?)(:|\?|\/|$).*/,"$1"),g=window.location.hostname;f!==g&&""!==f&&a.setValue(this.PROFILE_PROPERTIES.REFERRERHOST,f)},_setCampaignProperties:function(a){var b=this.currentUrl,c=this.HELPER.substringToHash(this.HELPER.decodeReferrerQS(b,this.PROFILE_PROPERTIES.UTM_SOURCE)),d=this.HELPER.substringToHash(this.HELPER.decodeReferrerQS(b,this.PROFILE_PROPERTIES.UTM_MEDIUM)),e=this.HELPER.substringToHash(this.HELPER.decodeReferrerQS(b,this.PROFILE_PROPERTIES.UTM_TERM)),f=this.HELPER.substringToHash(this.HELPER.decodeReferrerQS(b,this.PROFILE_PROPERTIES.UTM_CONTENT)),g=this.HELPER.substringToHash(this.HELPER.decodeReferrerQS(b,this.PROFILE_PROPERTIES.UTM_CAMPAIGN));(c||d||e||f||!g)&&(a.setValue(this.PROFILE_PROPERTIES.CURRENT_UTM_SOURCE,c),a.setValue(this.PROFILE_PROPERTIES.CURRENT_UTM_MEDIUM,d),a.setValue(this.PROFILE_PROPERTIES.CURRENT_UTM_TERM,e),a.setValue(this.PROFILE_PROPERTIES.CURRENT_UTM_CONTENT,f),a.setValue(this.PROFILE_PROPERTIES.CURRENT_UTM_CAMPAIGN,g),c&&a.addValue(this.PROFILE_PROPERTIES.UTM_SOURCE,c),d&&a.addValue(this.PROFILE_PROPERTIES.UTM_MEDIUM,d),e&&a.addValue(this.PROFILE_PROPERTIES.UTM_TERM,e),f&&a.addValue(this.PROFILE_PROPERTIES.UTM_CONTENT,f),g&&a.addValue(this.PROFILE_PROPERTIES.UTM_CAMPAIGN,g))},_setHostProperties:function(a){var b=this.referrer.replace(/http[s]?:\/\/(.*?)(:|\?|\/|$).*/,"$1"),c=window.location.hostname;b!==c&&(""!==b&&a.addValue(this.PROFILE_PROPERTIES.REFERRERHOSTS,b),this._setHostEntryPageProperty(a)),this._setHostAverageTimeProperty(a,c,b)},_setHostEntryPageProperty:function(profile){var currentHostName=window.location.hostname,entryPage=this.currentUrl;profile.setValue(this.PROFILE_PROPERTIES.ENTRYPAGE,entryPage);var hostEntryPage=profile.getValue(this.PROFILE_PROPERTIES.HOSTENTRYPAGE);if(!hostEntryPage)hostEntryPage={};else try{hostEntryPage=eval(hostEntryPage)}catch(a){hostEntryPage={}}hostEntryPage[currentHostName]={entrypage:entryPage};var hostEntryPageString=this.blueConicClient.json.stringify(hostEntryPage);profile.setValue(this.PROFILE_PROPERTIES.HOSTENTRYPAGE,hostEntryPageString)},_setHostAverageTimeProperty:function(a,b,c){var d=Math.round,e=this.blueConicClient.getCurrentDate().getTime(),f=a.getValue(this.PROFILE_PROPERTIES.HOSTAVERAGETIME);if(!f)f={};else try{f=f.replace(/'/g,"\""),f=this.blueConicClient.json.parse(f)}catch(a){f={}}"undefined"==typeof f[b]&&(f[b]={startdate:e,enddate:e,averageTime:0,visits:0});var g=a.getValue(this.PROFILE_PROPERTIES.LASTREFERRERAVERAGE),h=0,i=0;for(var j in f){var k=""+j,l=new Date;if(l.setTime(f[j].enddate),l.setMinutes(l.getMinutes()+15),e>l.getTime()){var m=f[j].enddate-f[j].startdate;if(0<m){var n=f[j].visits+1,o=d((f[j].visits*f[j].averageTime+m)/n/1e3);f[j].averageTime=o,f[j].visits=n}f[j].startdate=e,f[j].enddate=e}else k===b?f[j].enddate=e:k===c&&g!==c&&(f[j].enddate=e,a.setValue(this.PROFILE_PROPERTIES.LASTREFERRERAVERAGE,c));0!==f[j].averageTime&&(i+=1,h+=f[j].averageTime)}var p=this.blueConicClient.json.stringify(f),q=0;0<i&&(q=d(h/i)),a.setValue(this.PROFILE_PROPERTIES.HOSTAVERAGETIME,p),a.setValue(this.PROFILE_PROPERTIES.AVERAGETIME,q)},_setVisitProperties:function(a){var b=this._getNumberProperty(this.PROFILE_PROPERTIES.CLICKCOUNT),c=a.getValues(this.PROFILE_PROPERTIES.VISITEDSITES),d=blueConicClient.util.array?blueConicClient.util.array.indexOfArray:indexOfArray;(null===c||0===c.length||-1===d.call(this,c,document.domain))&&a.addValue(this.PROFILE_PROPERTIES.VISITEDSITES,document.domain),a.setValue(this.PROFILE_PROPERTIES.CLICKCOUNT,b+1);var e=a.getValue(this.PROFILE_PROPERTIES.LASTVISITDATE);""===e&&(e=0);var f=new Date(parseInt(e));f.setMinutes(f.getMinutes()+30);var g=this.blueConicClient.getCurrentDate(),h=this._getNumberProperty(this.PROFILE_PROPERTIES.VISITS);if(g>f||0===h)a.setValue(this.PROFILE_PROPERTIES.VISITCLICKS,1),a.setValue(this.PROFILE_PROPERTIES.VISITS,h+1),a.addValue(this.PROFILE_PROPERTIES.RESOLUTION,screen.width+"x"+screen.height);else{var i=this._getNumberProperty(this.PROFILE_PROPERTIES.VISITCLICKS);a.setValue(this.PROFILE_PROPERTIES.VISITCLICKS,i+1)}a.setValue(this.PROFILE_PROPERTIES.LASTVISITDATE,g.getTime())},_setOriginProperties:function(a){var b=a.getValues(this.PROFILE_PROPERTIES.ORIGIN_TYPE),c=a.getValues(this.PROFILE_PROPERTIES.ORIGIN_SOURCE),d=a.getValues(this.PROFILE_PROPERTIES.ORIGIN_DETAIL);if(2<=b.length||2<=c.length||2<=d.length)return this._setOriginProfileProperties(a,1===b.length?b[0]:"",1===c.length?c[0]:"",1===d.length?d[0]:"");if(!(0<b.length||0<c.length||0<d.length)){var e=this._getNumberProperty(this.PROFILE_PROPERTIES.VISITS),f=a.getValue(this.PROFILE_PROPERTIES.DEVICETYPE),g=a.getValues(this.PROFILE_PROPERTIES.VISITEDSITES),h=a.getValues(this.PROFILE_PROPERTIES.ENTRYPAGE),i=a.getValues(this.PROFILE_PROPERTIES.MOBILE_APP_ID),j=a.getValues(this.PROFILE_PROPERTIES.MOBILE_APP_NAMEVERSION),k=a.getValues(this.PROFILE_PROPERTIES.RECEIVED_FROM_SYSTEM),l=a.getValues(this.PROFILE_PROPERTIES.RECEIVED_FROM_CONNECTION);0===k.length&&0===i.length?this._setOriginProfileProperties(a,"PC"===f?this.ORIGIN_TYPES.WEB:this.ORIGIN_TYPES.MOBILE_WEB,1===g.length?g[0]:"",1===h.length?h[0]:""):0<k.length&&0===i.length&&!(1<e)?this._setOriginProfileProperties(a,this.ORIGIN_TYPES.CONNECTION,1===k.length?k[0]:"",1===l.length?l[0]:""):0<i.length&&0===k.length&&!(1<e)&&this._setOriginProfileProperties(a,this.ORIGIN_TYPES.MOBILE,1===i.length?i[0]:"",1===j.length?j[0]:"")}},_setOriginProfileProperties:function(a,b,c,d){a.setValue(this.PROFILE_PROPERTIES.ORIGIN_TYPE,b),a.setValue(this.PROFILE_PROPERTIES.ORIGIN_SOURCE,c),a.setValue(this.PROFILE_PROPERTIES.ORIGIN_DETAIL,d)},HELPER:{search_engines:[["google\\.","q"],["bing\\.","q"],["search\\.yahoo\\.","p"],["search\\.msn\\.","q"],["search\\.live\\.","query"],["search\\.aol\\.","userQuery"],["ask\\.com","q"],["altavista\\.","q"],["feedster\\.","q"],["search\\.lycos\\.","q"],["alltheweb\\.","q"],["technorati\\.com/search/([^\\?/]+)",1],["dogpile\\.com/info\\.dogpl/search/web/([^\\?/]+)",1,!0]],substringToHash:function(a){if(a){var b=a.indexOf("#");if(-1!==b)return a.substring(0,b)}return a},decodeReferrer:function(a){for(var b,c=/(?:)/,d=0;d<this.search_engines.length;d++){b=this.search_engines[d],c.compile("^http(s?)://(www\\.)?"+b[0],"i");var e=a.match(c);if(e){var f;if(f=isNaN(b[1])?this.decodeReferrerQS(a,b[1]):e[b[1]+1],f)return f=decodeURIComponent(f),2<b.length&&b[2]&&(f=decodeURIComponent(f)),f=f.replace(/'|"/g,""),f=f.split(/[\s,+.]+/),f;break}}return null},decodeReferrerQS:function(a,b){if(null===b||"undefined"==typeof b||""===b)return null;if(null===a||"undefined"==typeof a||""===a)return null;a=decodeURIComponent(a);var c,d=a.indexOf("?");if(0<=d){var e=new String(a.substring(d+1));d=0,c=0;for(var f=0;0<=d&&0<=(c=e.indexOf("=",d));){f++;var g;if(g=e.substring(d,c),d=e.indexOf("&",c)+1,g===b)return 0>=d?e.substring(c+1):e.substring(c+1,d-1);if(0>=d)return null;if(1e3<f)return null}}return null}},_getNumberProperty:function(a){var b=this.profile.getValue(a);try{b=parseInt(b)}catch(a){b=0}return isNaN(b)&&(b=0),b}});window.blueConicPreListeners.push({id: 'listenerinteractiontype', interactionType: InteractionTypeImpl });})();(function(){
var InteractionTypeImpl=InteractionType.extend({init:function(a,b){this.blueConicClient=a;this.context=b||null;this.profile=a.profile.getProfile()},onPrepare:function(){var a=this._getParameterByName("cid");a&&this.profile.addValue("phl_visit_campaign_ID",a)},_getParameterByName:function(a){return a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null===(a=(new RegExp("[\\?&]"+a+"=([^&#]*)","i")).exec(window.location))?"":decodeURIComponent(a[1].replace(/\+/g," "))}});
window.blueConicPreListeners.push({id: 'phl_prelistener', interactionType: InteractionTypeImpl });})();(function(){
var InteractionTypeImpl=InteractionType.extend({TEST_GROUP_PROFILE_PROPERTY:"testgroup",TEST_GROUP_COOKIE_NAME:"bc_tstgrp",init:function(a,b){this.blueConicClient=a;this.context=b?b:null;this.profile=a.profile.getProfile()},onPrepare:function(){var a=this._getParameterByName("testGroup");a||(a=this.blueConicClient.util.cookie.getCookie(this.TEST_GROUP_COOKIE_NAME))||(a=Math.floor(20*Math.random())+1);this._createCookie(this.TEST_GROUP_COOKIE_NAME,a,365);this.profile.setValue(this.TEST_GROUP_PROFILE_PROPERTY,
a)},_createCookie:function(a,b,c){var d="";c&&(d=new Date,d.setTime(d.getTime()+864E5*c),d="; expires="+d.toGMTString());document.cookie=a+"="+b+d+";domain=."+this._extractRootDomain()+";path=/"},_getParameterByName:function(a){if(!a)return"";a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},_extractRootDomain:function(){var a=document.location.hostname,b=a.split("."),c=b.length;
2<c&&(a=b[c-2]+"."+b[c-1]);return a}});
window.blueConicPreListeners.push({id: 'testgroup_prelistener', interactionType: InteractionTypeImpl });})();})();
(function(n,bb,sa,K,F,ta,oa,S,G){function sb(a,b){this._id=a;this._parameters=b;this.getId=function(){return this._id};this.getParameters=function(){var a=null,b=null;for(a in this._parameters)if(b=a,W&&a&&0===a.indexOf(W))return k&&d.logInfo("Use locale ["+a+"] for connection ["+this.getId()+"]."),this._parameters[a];return null!==b?(k&&d.logInfo("Use locale ["+b+"] for connection ["+this.getId()+"]."),this._parameters[b]):null}}function tb(a,b){this._id=a.id;this._dialogueId=a.dialogueId;this._name=
a.name;this._position=a.position;this._parameters=b;this._defaultLocale=a.defaultLocale;this._interactionTypeId=a.interactionType.myId?a.interactionType.myId.toLowerCase():null;this._type=a.interactionType.myType?a.interactionType.myType.toUpperCase():null;this._positionType=a.interactionType.myPositionType?a.interactionType.myPositionType:null;this._usedLocale=null;this._isOnLoadExecuted=this._isGetContentExecuted=this._isPositionFound=!1;this._isLocalEditMode=!0===a.isLocalEditMode;this._bcClient=
null;this.getInteractionId=function(){return this._id};this.getDialogueId=function(){return this._dialogueId};this.getName=function(){return this._name};this.getType=function(){return this._type};this.getPosition=function(){return this._position};this.getDOMElement=function(){var a=d.getDOMElement(this._position);a&&!this._isPositionFound&&(this._isPositionFound=!0);return a};this.isPositionFound=function(){return this._isPositionFound};this.isGetContentExecuted=function(){return this._isGetContentExecuted};
this.setGetContentExecuted=function(a){this._isGetContentExecuted=a};this.isOnLoadExecuted=function(){return this._isOnLoadExecuted};this.setOnLoadExecuted=function(a){this._isOnLoadExecuted=a};this.setParameters=function(a,b){this._parameters[a]=b};this.getParameters=function(){var a,b=this.getName()?this.getName():this.getInteractionId();for(a in this._parameters)if(W&&a&&0===a.indexOf(W))return this._usedLocale=a,k&&d.logInfo("use locale ["+a+"] for interaction ["+b+"]."),this._parameters[a];k&&
d.logInfo("no parameters found for locale ["+W+"] with interaction ["+b+"].\x3cbr\x3eUsing the default locale ["+this._defaultLocale+"] instead.");this._usedLocale=this._defaultLocale;return this._parameters[this._defaultLocale]};this.getDefaultLocale=function(){return this._defaultLocale};this.getLocale=function(){return W};this.getUrlPrefix=function(){d.logDeprecated("context.getUrlPrefix","profile.getBaseURL");return d.getBaseURL(this._interactionTypeId)};this.getBaseURL=function(){return d.getBaseURL(this._interactionTypeId)};
this.getInteractionTypeId=function(){return this._interactionTypeId};this.isPositionTypePlugin=function(){return"position"===this._positionType};this.getProfile=function(){return this._bcClient.profile.getProfile()};this.isLocalEditMode=function(){return this._isLocalEditMode};this.getBlueConicClient=function(){this._bcClient||(this._bcClient=B.getBlueConicClient(this));return this._bcClient};this.getConnection=function(a){if(!a||!Y||!d.isArray(Y)||0===Y.length)return null;for(var b=0,c=Y.length;b<
c;b++){var g=Y[b];if(g&&g.id&&g.parameters&&g.id===a)return b=d.getInteractionParameters(g),new sb(a,b)}return null}}function Fa(a){function b(a){a=d.ensureArray(a).join(",");J?a?localStorage.setItem("BCRefusedObjectives",a):localStorage.removeItem("BCRefusedObjectives"):d.setCookie("BCRefusedObjectives",a,31536E6)}function c(a){return!a||"GDPR"===a}this._id=a;this._properties={};this.getId=function(){return this._id};this.getPropertyNames=function(){var a=[],b;for(b in this._properties)x.call(a,
b);return a};this.getValue=function(a){if(!ua.call(this._properties,a))return G;a=this._properties[a];return d.isArray(a)?a[0]:a};this.getValues=function(a){return ua.call(this._properties,a)?d.ensureArray(this._properties[a]):[]};this.setValue=function(a,b,c){"consented_objectives"===a?(b=d.isArray(b)?0<b.length?[b[0]]:[]:[b],this.setConsentedObjectives(b,c)):this._setValue(a,b,c)};this._setValue=function(a,b,g){var e=c(this.getPrivacyLegislation());a?null===b||b===G?k&&d.logInfo("value cannot be undefined or null"):
(y.unsavedLog(a,null),d.isArray(b)?b=0<b.length?b[0]:null:d.isDate(b)&&(b=b.getTime()),y.unsavedLog(a,b,!1,e,g),this._properties[a]=d.ensureArray(b)):k&&d.logInfo("could not set value for undefined property")};this.setValues=function(a,b,c){"consented_objectives"===a?this.setConsentedObjectives(b,c):this._setValues(a,b,c)};this._setValues=function(a,b,g){var e=c(this.getPrivacyLegislation());if(a)if(d.isArray(a))k&&d.logInfo("property cannot be an array");else{y.unsavedLog(a,null);b=d.ensureArray(b);
for(var f=0;f<b.length;f++)d.isDate(b[f])&&(b[f]=b[f].getTime());d.removeItemFromArray(b,null);d.removeItemFromArray(b,G);this._properties[a]=b;y.unsavedLog(a,b,!1,e,g)}else k&&d.logInfo("could not set values for undefined property")};this.addValue=function(a,b,c){"consented_objectives"===a?this.addConsentedObjective(b,c):this._addValue(a,b,c)};this._addValue=function(a,b,g){var e=c(this.getPrivacyLegislation());if(a)if(d.isArray(a))k&&d.logInfo("property cannot be an array");else if(null===b||b===
G)k&&d.logInfo("value cannot be undefined or null");else{d.isDate(b)&&(b=b.getTime());this._properties[a]||(this._properties[a]=[]);var f=this._properties[a];-1===d.indexOfArray(f,b)&&(x.call(f,b),y.unsavedLog(a,b,!0,e,g));this._properties[a]=f}else k&&d.logInfo("could not add value for undefined property")};this.getPrivacyLegislation=function(){return this.getValue("privacy_legislation")};this.getConsentedObjectives=function(){return this.getValues("consented_objectives")};this.getRefusedObjectives=
function(){return"GDPR"===this.getPrivacyLegislation()&&l.getLevel()===l.DO_NOT_TRACK?this.getDntRefusedObjectives():this.getValues("refused_objectives")};this.setPrivacyLegislation=function(a,b){this.setValue("privacy_legislation",a,b)};this.addConsentedObjective=function(a,b){var c=this.getConsentedObjectives();-1===d.indexOfArray(c,a)&&(x.call(c,a),this._setValues("consented_objectives",c,b));var c=this.getRefusedObjectives(),e=c.length;d.removeItemFromArray(c,a);e!==c.length&&this.setValues("refused_objectives",
c,b);"GDPR"===this.getPrivacyLegislation()&&l.getLevel()===l.DO_NOT_TRACK&&(this.setValues("refused_objectives",c,b),this.deleteDntRefusedObjectives(),k&&d.logInfo("Set permission level because of added consented objective: "+a),l.setLevel(l.PERSONAL,"Added consented objective: "+a))};this.addRefusedObjective=function(a,c){if("GDPR"===this.getPrivacyLegislation()&&l.getLevel()===l.DO_NOT_TRACK)c=this.getDntRefusedObjectives(),-1===d.indexOfArray(c,a)&&x.call(c,a),b(c);else{var e=this.getRefusedObjectives();
-1===d.indexOfArray(e,a)&&(x.call(e,a),this.setValues("refused_objectives",e,c));var e=this.getConsentedObjectives(),f=e.length;d.removeItemFromArray(e,a);f!==e.length&&this._setValues("consented_objectives",e,c)}};this.setConsentedObjectives=function(a,b){this._setValues("consented_objectives",a,b);if(0!==a.length){for(var c=this.getRefusedObjectives(),e=c.length,f=0;f<a.length;f++)d.removeItemFromArray(c,a[f]);e!==c.length&&this.setValues("refused_objectives",c,b);"GDPR"===this.getPrivacyLegislation()&&
l.getLevel()===l.DO_NOT_TRACK&&(this.setValues("refused_objectives",c,b),this.deleteDntRefusedObjectives(),k&&d.logInfo("Set permission level because of consented objectives: "+a),l.setLevel(l.PERSONAL,"Set consented objectives: "+a))}};this.setRefusedObjectives=function(a,c){if("GDPR"===this.getPrivacyLegislation()&&l.getLevel()===l.DO_NOT_TRACK)b(a);else{this.setValues("refused_objectives",a,c);for(var e=this.getConsentedObjectives(),f=e.length,p=0;p<a.length;p++)d.removeItemFromArray(e,a[p]);f!==
e.length&&this._setValues("consented_objectives",e,c)}};this.loadValues=function(a,b,c){a=d.ensureArray(a);y.getProperties(a,this,function(){d.doCallback(b,c)});h.submitBatch()};this.addProperty=function(a,b){d.logDeprecated("profile.addProperty(property, value)","profile.addValue(property, value)");this.addValue(a,b)};this.getDntRefusedObjectives=function(){var a;return(a=J?localStorage.getItem("BCRefusedObjectives"):d.getCookie("BCRefusedObjectives"))?d.ensureArray(a.split(",")):[]};this.deleteDntRefusedObjectives=
function(){J?localStorage.removeItem("BCRefusedObjectives"):d.setCookie("BCRefusedObjectives",null)}}function R(a){this.getId=function(){return t.getId()};this.getPropertyNames=function(){return t.getPropertyNames()};this.getValue=function(a){return t.getValue(a)};this.getValues=function(a){return t.getValues(a)};this.setValue=function(b,c){t.setValue(b,c,a)};this.setValues=function(b,c){t.setValues(b,c,a)};this.addValue=function(b,c){t.addValue(b,c,a)};this.getPrivacyLegislation=function(){return t.getPrivacyLegislation()};
this.getConsentedObjectives=function(){return t.getConsentedObjectives()};this.getRefusedObjectives=function(){return t.getRefusedObjectives()};this.setPrivacyLegislation=function(a,c){t.setPrivacyLegislation(a,c)};this.addConsentedObjective=function(b){t.addConsentedObjective(b,a)};this.addRefusedObjective=function(b){t.addRefusedObjective(b,a)};this.setConsentedObjectives=function(b){t.setConsentedObjectives(b,a)};this.setRefusedObjectives=function(b){t.setRefusedObjectives(b,a)};this.loadValues=
function(a,c,d){t.loadValues(a,c,d)};this.addProperty=function(a,c){t.addProperty(a,c)};this.isNew=function(){return Oa}}function ub(a){this._apiVersion=a&&a.recommendationBlock?2:1;if(1===this._apiVersion)this._id=a&&0<a.length?a[0].recommendationId[0]:null,this._items=a?a:[];else{this._id=a.recommendationId;this._setsOrder=[];this._groupedItems={};for(var b=v.util.array.ensureArray(a.recommendationBlock),c=0;c<b.length;c++)for(var d=v.util.array.ensureArray(b[c].recommendations),f=0;f<d.length;f++){var g=
b[c].id;d[f].recommendationId=this._id;d[f].setId=g;this._groupedItems[g]||(this._groupedItems[g]=[],this._setsOrder.push(g));this._groupedItems[g].push(d[f])}this._trackingPixel=a.trackingPixel}this.getId=function(){return this._id};this.getAPIVersion=function(){return this._apiVersion};this.getItems=function(){if(1===this.getAPIVersion())return this._items;for(var a=[],b=0;b<this._setsOrder.length;b++)a=a.concat(this._groupedItems[this._setsOrder[b]]);return a};this.getSetsOrder=function(){return this._setsOrder};
this.getGroupedItems=function(){return this._groupedItems};this.getTrackingPixelUrl=function(){return this._trackingPixel}}function vb(a,b,c,d,f){this._id=a;this._html=b;this._css=c;this._javascript=d;this._precompiledTemplate=f;this.getId=function(){return this._id};this.getHtml=function(){return this._html};this.getCss=function(){return this._css};this.getJavaScript=function(){return this._javascript};this.getPrecompiled=function(){return this._precompiledTemplate}}function wb(a,b,c){this._id=a;
this._title=b;this._description=c;this.getId=function(){return this._id};this.getTitle=function(){return this._title};this.getDescription=function(){return this._description}}function xb(){k&&d.logInfo("The browser has no JSON support; the json2 [http://www.JSON.org/js.html] is used for handling JSON");da={};(function(a){function b(a){return 10>a?"0"+a:a}function c(a){g.lastIndex=0;return g.test(a)?'"'+a.replace(g,function(a){var b=m[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"':'"'+a+'"'}function d(a,b){var e,f,g=r,m,h=b[a];h&&"object"===typeof h&&"function"===typeof h.bcToJSON&&(h=h.bcToJSON(a));"function"===typeof E&&(h=E.call(b,a,h));switch(typeof h){case "string":return c(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);case "object":if(!h)return"null";r+=p;m=[];if("[object Array]"===Object.prototype.toString.apply(h)){f=h.length;for(a=0;a<f;a+=1)m[a]=d(a,h)||"null";b=0===m.length?"[]":r?"[\n"+r+m.join(",\n"+r)+"\n"+
g+"]":"["+m.join(",")+"]";r=g;return b}if(E&&"object"===typeof E)for(f=E.length,a=0;a<f;a+=1)"string"===typeof E[a]&&(e=E[a],(b=d(e,h))&&m.push(c(e)+(r?": ":":")+b));else for(e in h)Object.prototype.hasOwnProperty.call(h,e)&&(b=d(e,h))&&m.push(c(e)+(r?": ":":")+b);b=0===m.length?"{}":r?"{\n"+r+m.join(",\n"+r)+"\n"+g+"}":"{"+m.join(",")+"}";r=g;return b}}"function"!==typeof Date.prototype.bcToJSON&&(Date.prototype.bcToJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+
1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.bcToJSON=Number.prototype.bcToJSON=Boolean.prototype.bcToJSON=function(a){return this.valueOf()});var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r,p,m={"\b":"\\b","\t":"\\t",
"\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},E;"function"!==typeof a.stringify&&(a.stringify=function(a,b,c){var e;p=r="";if("number"===typeof c)for(e=0;e<c;e+=1)p+=" ";else"string"===typeof c&&(p=c);if((E=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return d("",{"":a})});"function"!==typeof a.parse&&(a.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(g&&"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,
e)&&(f=c(g,e),f!==G?g[e]=f:delete g[e]);return b.call(a,d,g)}a=String(a);f.lastIndex=0;f.test(a)&&(a=a.replace(f,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return a=eval("("+a+")"),"function"===typeof b?c({"":a},""):a;throw new SyntaxError("JSON.parse");})})(da)}var yb=K?K:"FORCE_POST";
var BC_URL='https://phl.blueconic.net';var L="https:"==document.location.protocol?"https://":"http://",va=document.createElement("a");va.href=BC_URL;F=-1===va.href.substring(va.protocol.length).indexOf(":")?va.hostname:va.host;var P=!1;if(n.name&&0==n.name.indexOf("bc_")||top.window!=n||document.cookie&&-1!=document.cookie.indexOf("BC_e\x3dtrue"))if(n.top!=n||n.opener){L=-1<BC_URL.indexOf("https://")?"https://":"http://";P=!0;try{top.location.host!=document.location.host||n.opener||(P=!1)}catch(a){P=!0}}F&&0==F.indexOf("localhost")&&
(L=-1==F.indexOf(":")||-1!=F.indexOf(":9090")?"https://":"http://");if(!n.blueConicClient||-1==BC_URL.indexOf(F)){var cb=function(){if(P)return BC_URL;var a="undefined"!=typeof F?L+F:null;a&&-1!=BC_URL.indexOf(F.split(":")[0].replace("http://",""))||(a=BC_URL);if(!a)a:{var b;b=document.getElementsByTagName("script");for(var c=0,d=b.length;c<d;c++)if(a=b[c],(a=a.getAttribute("src"))&&-1!==a.indexOf("/blueconic/blueconic")){b=document.createElement("a");b.href=a;a=L+b.host;break a}a=void 0}return a},
M=cb(),T="undefined"!=typeof sa&&sa?sa:null,db=function(){var a=n.navigator.userLanguage||navigator.systemLanguage||n.navigator.language;if(!a)return null;var b=-1!==a.indexOf("-")?a.indexOf("-"):a.indexOf("_");-1!=b&&(a=a.substring(0,b));return a=a.toLowerCase()},W=db.call(this),zb=(new Date).getTime(),k="undefined"!=typeof bb&&bb,ja="undefined"!=typeof console&&console&&console.log,Q=!1,eb=!1,Qa=!1,X=[],Ab=["LISTENER","TOOLBAR"],Ga=!1,Ha=!1,pa=!1,Ra=null,Bb="https:"==document.location.protocol,
Sa=null,Ta;Ta=n.navigator&&n.navigator.userAgent?navigator.userAgent.toLowerCase():"unknown";var Cb=function(){try{var a;document.createEvent?(a=document.createEvent("Event"),a.initEvent("onBlueConicEventCheck",!0,!0),n.dispatchEvent(a)):(a=document.createEventObject(),n.fireEvent("onBlueConicEventCheck",a));return!0}catch(b){return!1}}(),Db=function(){if("undefined"!=typeof XMLHttpRequest&&XMLHttpRequest){if("withCredentials"in new XMLHttpRequest)return k&&ja&&console.log("CORS is fully supported. Chrome/Firefox/Opera/Safari/IE10+"),
!0;if("undefined"!=typeof XDomainRequest)return k&&ja&&console.log("CORS is not fully supported in IE8/9, fallback to old GET mechanism."),!1}k&&ja&&console.log("CORS is not supported.");return!1}(),J;try{localStorage.setItem("bc_local_storage_check","bc_local_storage_check"),localStorage.removeItem("bc_local_storage_check"),J=!0}catch(a){J=!1}var wa=!0,Ua=null,xa=-1!==Ta.indexOf("firefox")?7168:-1!==Ta.indexOf("chrome")?7168:3072,da=null,fb=Object.prototype.toString,ua=Object.prototype.hasOwnProperty,
x=Array.prototype.push,Eb=Array.prototype.unshift,gb=Array.prototype.indexOf,Fb=Array.prototype.isArray,Gb=Array.prototype.filter,Hb=Array.prototype.map,ya=null,ka=null,za;try{ya=document.cookie,za=!0}catch(a){za=!1}for(var hb=null,ib=null,U=[],ea=[],Y=[],fa=null,t=null,Oa=!1,Aa=null,Ba=null,Ia=null,Ca=[],Va={},Wa={},Ja={},ga={},jb={},Xa="bc_pre_"+(new Date).getTime(),kb="bc_post_"+(new Date).getTime(),Na="bc_async_"+(new Date).getTime(),ca=S?S:[],lb=["bc_simulator","bc_dialogues","bc_visualpicker"],
mb="ArrayBuffer Attr Audio AudioProcessingEvent BCClass BeforeLoadEvent Blob CDATASection CSSCharsetRule CSSFontFaceRule CSSImportRule CSSMediaRule CSSPageRule CSSPrimitiveValue CSSRule CSSRuleList CSSStyleDeclaration CSSStyleRule CSSStyleSheet CSSValue CSSValueList CanvasGradient CanvasPattern CanvasRenderingContext2D CharacterData ClientRect ClientRectList Clipboard CloseEvent Comment CompositionEvent Counter CustomEvent DOMException DOMImplementation DOMParser DOMSettableTokenList DOMStringList DOMStringMap DOMTokenList DataView DeviceOrientationEvent Document DocumentFragment DocumentType Element Entity EntityReference ErrorEvent Event EventException EventSource File FileError FileList FileReader Float32Array Float64Array FormData HTMLAllCollection HTMLAnchorElement HTMLAppletElement HTMLAreaElement HTMLAudioElement HTMLBRElement HTMLBaseElement HTMLBaseFontElement HTMLBodyElement HTMLButtonElement HTMLCanvasElement HTMLCollection HTMLDListElement HTMLDirectoryElement HTMLDivElement HTMLDocument HTMLElement HTMLEmbedElement HTMLFieldSetElement HTMLFontElement HTMLFormElement HTMLFrameElement HTMLFrameSetElement HTMLHRElement HTMLHeadElement HTMLHeadingElement HTMLHtmlElement HTMLIFrameElement HTMLImageElement HTMLInputElement HTMLKeygenElement HTMLLIElement HTMLLabelElement HTMLLegendElement HTMLLinkElement HTMLMapElement HTMLMarqueeElement HTMLMediaElement HTMLMenuElement HTMLMetaElement HTMLMeterElement HTMLModElement HTMLOListElement HTMLObjectElement HTMLOptGroupElement HTMLOptionElement HTMLOutputElement HTMLParagraphElement HTMLParamElement HTMLPreElement HTMLProgressElement HTMLQuoteElement HTMLScriptElement HTMLSelectElement HTMLSourceElement HTMLSpanElement HTMLStyleElement HTMLTableCaptionElement HTMLTableCellElement HTMLTableColElement HTMLTableElement HTMLTableRowElement HTMLTableSectionElement HTMLTextAreaElement HTMLTitleElement HTMLUListElement HTMLUnknownElement HTMLVideoElement HashChangeEvent IceCandidate Image ImageData Int16Array Int32Array Int8Array KeyboardEvent MediaController MediaError MediaList MediaStreamEvent MessageChannel MessageEvent MessagePort MimeType MimeTypeArray MouseEvent MutationEvent NamedNodeMap Node NodeFilter NodeList Notation OfflineAudioCompletionEvent Option OverflowEvent PERSISTENT PageTransitionEvent Plugin PluginArray PopStateEvent ProcessingInstruction ProgressEvent RGBColor Range RangeException Rect SQLException SVGAElement SVGAltGlyphDefElement SVGAltGlyphElement SVGAltGlyphItemElement SVGAngle SVGAnimateColorElement SVGAnimateElement SVGAnimateMotionElement SVGAnimateTransformElement SVGAnimatedAngle SVGAnimatedBoolean SVGAnimatedEnumeration SVGAnimatedInteger SVGAnimatedLength SVGAnimatedLengthList SVGAnimatedNumber SVGAnimatedNumberList SVGAnimatedPreserveAspectRatio SVGAnimatedRect SVGAnimatedString SVGAnimatedTransformList SVGCircleElement SVGClipPathElement SVGColor SVGComponentTransferFunctionElement SVGCursorElement SVGDefsElement SVGDescElement SVGDocument SVGElement SVGElementInstance SVGElementInstanceList SVGEllipseElement SVGException SVGFEBlendElement SVGFEColorMatrixElement SVGFEComponentTransferElement SVGFECompositeElement SVGFEConvolveMatrixElement SVGFEDiffuseLightingElement SVGFEDisplacementMapElement SVGFEDistantLightElement SVGFEDropShadowElement SVGFEFloodElement SVGFEFuncAElement SVGFEFuncBElement SVGFEFuncGElement SVGFEFuncRElement SVGFEGaussianBlurElement SVGFEImageElement SVGFEMergeElement SVGFEMergeNodeElement SVGFEMorphologyElement SVGFEOffsetElement SVGFEPointLightElement SVGFESpecularLightingElement SVGFESpotLightElement SVGFETileElement SVGFETurbulenceElement SVGFilterElement SVGFontElement SVGFontFaceElement SVGFontFaceFormatElement SVGFontFaceNameElement SVGFontFaceSrcElement SVGFontFaceUriElement SVGForeignObjectElement SVGGElement SVGGlyphElement SVGGlyphRefElement SVGGradientElement SVGHKernElement SVGImageElement SVGLength SVGLengthList SVGLineElement SVGLinearGradientElement SVGMPathElement SVGMarkerElement SVGMaskElement SVGMatrix SVGMetadataElement SVGMissingGlyphElement SVGNumber SVGNumberList SVGPaint SVGPathElement SVGPathSeg SVGPathSegArcAbs SVGPathSegArcRel SVGPathSegClosePath SVGPathSegCurvetoCubicAbs SVGPathSegCurvetoCubicRel SVGPathSegCurvetoCubicSmoothAbs SVGPathSegCurvetoCubicSmoothRel SVGPathSegCurvetoQuadraticAbs SVGPathSegCurvetoQuadraticRel SVGPathSegCurvetoQuadraticSmoothAbs SVGPathSegCurvetoQuadraticSmoothRel SVGPathSegLinetoAbs SVGPathSegLinetoHorizontalAbs SVGPathSegLinetoHorizontalRel SVGPathSegLinetoRel SVGPathSegLinetoVerticalAbs SVGPathSegLinetoVerticalRel SVGPathSegList SVGPathSegMovetoAbs SVGPathSegMovetoRel SVGPatternElement SVGPoint SVGPointList SVGPolygonElement SVGPolylineElement SVGPreserveAspectRatio SVGRadialGradientElement SVGRect SVGRectElement SVGRenderingIntent SVGSVGElement SVGScriptElement SVGSetElement SVGStopElement SVGStringList SVGStyleElement SVGSwitchElement SVGSymbolElement SVGTRefElement SVGTSpanElement SVGTextContentElement SVGTextElement SVGTextPathElement SVGTextPositioningElement SVGTitleElement SVGTransform SVGTransformList SVGUnitTypes SVGUseElement SVGVKernElement SVGViewElement SVGZoomEvent Selection SessionDescription SharedWorker SpeechInputEvent Storage StorageEvent StyleSheet StyleSheetList TEMPORARY Text TextEvent TextMetrics TimeRanges TouchEvent UIEvent URL Uint16Array Uint32Array Uint8Array Uint8ClampedArray WebGLActiveInfo WebGLBuffer WebGLContextEvent WebGLFramebuffer WebGLProgram WebGLRenderbuffer WebGLRenderingContext WebGLShader WebGLTexture WebGLUniformLocation WebKitAnimationEvent WebKitBlobBuilder WebKitCSSFilterValue WebKitCSSKeyframeRule WebKitCSSKeyframesRule WebKitCSSMatrix WebKitCSSRegionRule WebKitCSSTransformValue WebKitIntent WebKitMutationObserver WebKitPoint WebKitTransitionEvent WebSocket WheelEvent Window Worker XMLDocument XMLHttpRequest XMLHttpRequestException XMLHttpRequestProgressEvent XMLHttpRequestUpload XMLSerializer XPathEvaluator XPathException XPathResult XSLTProcessor addEventListener alert applicationCache atob bcHostname bcVerbose blueConicClient blueConicPreListeners blur btoa caches cancelAnimationFrame cancelIdleCallback captureEvents chrome clearInterval clearTimeout clientInformation close closed confirm console content controllers createImageBitmap crypto customElements defaultStatus defaultstatus devicePixelRatio disableExternalCapture dispatchEvent document enableExternalCapture event external fetch find focus forward frameElement frames fullScreen getComputedStyle getMatchedCSSRules getSelection globalStorage history home indexedDB innerHeight innerWidth isSecureContext length localStorage location locationbar matchMedia menubar moveBy moveTo mozAnimationStartTime mozCancelAnimationFrame mozCancelRequestAnimationFrame mozIndexedDB mozInnerScreenX mozInnerScreenY mozPaintCount mozRequestAnimationFrame myVar name navigator offscreenBuffering onabort onafterprint onafterscriptexecute onanimationend onanimationiteration onanimationstart onappinstalled onauxclick onbeforeinstallprompt onbeforeprint onbeforescriptexecute onbeforeunload onblur oncancel oncanplay oncanplaythrough onchange onclick onclose oncontextmenu oncopy oncuechange oncut ondblclick ondevicemotion ondeviceorientation ondeviceorientationabsolute ondrag ondragend ondragenter ondragleave ondragover ondragstart ondrop ondurationchange onemptied onended onerror onfocus ongotpointercapture onhashchange oninput oninvalid onkeydown onkeypress onkeyup onlanguagechange onload onloadeddata onloadedmetadata onloadstart onlostpointercapture onmessage onmessageerror onmousedown onmouseenter onmouseleave onmousemove onmouseout onmouseover onmouseup onmousewheel onmozfullscreenchange onmozfullscreenerror onoffline ononline onpagehide onpageshow onpaste onpause onplay onplaying onpointercancel onpointerdown onpointerenter onpointerleave onpointermove onpointerout onpointerover onpointerup onpopstate onprogress onratechange onrejectionhandled onreset onresize onscroll onsearch onseeked onseeking onselect onshow onstalled onstorage onsubmit onsuspend ontimeupdate ontoggle ontouchcancel ontouchend ontouchmove ontouchstart ontransitionend onunhandledrejection onunload onvolumechange onwaiting onwebkitanimationend onwebkitanimationiteration onwebkitanimationstart onwebkittransitionend onwheel open openDatabase openDialog opener origin outerHeight outerWidth pageXOffset pageYOffset parent performance personalbar pkcs11 postMessage print prompt releaseEvents removeEventListener requestAnimationFrame requestIdleCallback resizeBy resizeTo routeEvent screen screenLeft screenTop screenX screenY scroll scrollBy scrollByLines scrollByPages scrollMaxX scrollMaxY scrollTo scrollX scrollY scrollbars self sessionStorage setInterval setResizable setTimeout showModalDialog sizeToContent speechSynthesis status statusbar stop styleMedia toolbar top updateCommands v8Locale visualViewport webkitAudioContext webkitAudioPannerNode webkitCancelAnimationFrame webkitCancelRequestAnimationFrame webkitConvertPointFromNodeToPage webkitConvertPointFromPageToNode webkitIDBCursor webkitIDBDatabase webkitIDBDatabaseError webkitIDBDatabaseException webkitIDBFactory webkitIDBIndex webkitIDBKeyRange webkitIDBObjectStore webkitIDBRequest webkitIDBTransaction webkitIndexedDB webkitNotifications webkitPostMessage webkitRequestAnimationFrame webkitRequestFileSystem webkitResolveLocalFileSystemURL webkitStorageInfo webkitURL window".split(" "),
ha={},Ya=0;Ya<mb.length;Ya++)ha[mb[Ya]]=null;var Za=["$"],qa,q=function(){if(!M)return k&&d.logInfo("blueconic stopped running because the hostname is not defined"),null};q.prototype.createEvent=function(a,b,c,e){var f=-1<d.indexOfArray(w.dynamicTypes,a),g=-1<d.indexOfArray(w.types,a),r=!0===b;r&&(Ha=!0);g||f?g&&"PAGEVIEW"!=a&&!b?d.logWarning("An interaction is required for event type ["+a+"]"):("PAGEVIEW"!==a||r||y.getProfile(),"PAGEVIEW"!==a||Ga&&!r||(ca&&0<ca.length&&y.updateProfile(),r||h.handleRevisions()),
g={type:a,interaction:b,referrer:document.referrer,profile:null!==t?t.getId():d.getCookie("BCSessionID")},w.create(g,this,function(g){f&&$a(g,!1);d.doCallback(c,e,g);w.publish(a,b)}),"VIEW"===a?h.submitBatchTimeout(200):h.submitBatch()):w.publish(a,b)};q.prototype.setEditableNode=function(a,b){this.functions.setEditableNode(a,b)};q.prototype.getHostname=function(){return F};q.prototype.getIPAddress=function(){return ib};q.prototype.getInteractions=function(){return U};q.prototype.getInteractionNamesById=
function(a){var b=null;if(U&&0<U.length)for(var c=0;c<U.length;c++)U[c].id===a&&(b=U[c]);return b};q.prototype.getSegments=function(){return ea};q.prototype.getTemplate=function(a,b){if(a){q.prototype._templateCallbacks||(q.prototype._templateCallbacks={});var c=(new Date).getTime()+Math.random();q.prototype._templateCallbacks[c]&&(c=(new Date).getTime()+Math.random());q.prototype._templateCallbacks[c]={onSuccess:b,templateId:a};var e=function(){for(var a=d.getPropertiesFromObject(q.prototype._templateCallbacks),
b=0;b<a.length;b++){var c=q.prototype._templateCallbacks[a[b]];if(c){delete q.prototype._templateCallbacks[a[b]];var e=jb[c.templateId];if(!e){d.logWarning("Template with ID ["+c.templateId+"] is not found.");break}d.doCallback(this,c.onSuccess,e)}}};q.prototype.isInEditMode()&&!q.prototype._isTemplateDownloading&&(pa=!1,Ia=null,k&&d.logInfo("download templates again for edit mode"));pa||q.prototype._isTemplateDownloading?q.prototype._isTemplateDownloading||e():(q.prototype._isTemplateDownloading=
!0,d.loadScript(Ia?M+"/templates/"+Ia:M+"/templates",this,function(){delete q.prototype._isTemplateDownloading;k&&d.logInfo("finished template download");e()}))}else d.logWarning("A templateID is required for loading a template")};q.prototype.getChannelId=function(){return hb};q.prototype.isInEditMode=function(){return n.name&&"bc_dialogues"===n.name.substring(0,12)||blueConicClient.instanceName&&-1<blueConicClient.instanceName.indexOf("bc_dialogues")?!0:!1};q.prototype.setHostname=function(a){d.logDeprecated("blueConicClient.setHostName",
"Check the scriplet documentation for alternative");T=a};q.prototype.getStaticUrlPrefix=function(a){d.logDeprecated("blueConicClient.getStaticUrlPrefix","Use getBaseURL instead");return d.getBaseURL(a)};q.prototype.getBaseURL=function(a){return d.getBaseURL(a)};q.prototype.getRestEndpoint=function(a){var b=L+this.getHostname()+"/rest/custom/frontend/",c=d.getZoneId();c&&(b+=c+"/");a&&(b+=a);return b};q.prototype.isInSimulatorMode=function(){return n.name&&-1<n.name.indexOf("bc_simulator")};q.prototype.getCurrentDate=
function(){return q.prototype.isInSimulatorMode()&&Ra?Ra:new Date};q.prototype.doNotShowAgain=function(a,b,c){if(a&&!this.isInEditMode()){var d=this.profile.getProfile();d&&(d.addValue("dialogues_do_not_show_again",a),this.profile.updateProfile(b,c))}};q.prototype.getProfileProperties=function(a,b){var c=(new Date).getTime()+ ++h.requestId;h.addBatchRequest(h.GET_PROFILE_PROPERTIES,null,c,this,function(c){var e={};if(c&&c.result){c=c.result;if(c.properties){var e=c.properties,g;for(g in e)e[g].permissionLevel&&
(e[g].permissionLevel=l[e[g].permissionLevel])}d.doCallback(a,b,e)}});h.submitBatch()};q.prototype.handlePageView=function(a){Sa&&clearTimeout(Sa);Sa=setTimeout(function(){k&&d.logInfo("handling asynchronous navigation for new url ["+document.location.href+"], creating new PAGEVIEW event to retrieve interactions for this url.");h.resetThrottlingCounter(!0);a&&!0===a.hidePositions&&B.hideAllPositions();var b=document.getElementById(Na);b&&b.parentNode.removeChild(b);v._pendingInteractions=[];B.checkPreListeners();
Oa=!1;v.createEvent("PAGEVIEW",!0,this,function(a){w.publish(w.ON_URL_CHANGE,{url:document.location.href});$a(a,!1)})},10)};q.prototype.mail={sendEmail:function(a,b,c,e){var f=v._handledInteractions;if(f){for(var g=null,r=0,p=f.length;r<p&&!g;r++)f[r]&&f[r].context&&f[r].context.getInteractionId()===a&&(g=f[r].context);g&&(locale=g._usedLocale,f=(new Date).getTime()+ ++h.requestId,a={interactionId:[a],onlyOnce:[b],langId:[locale]},y.updateProfile(),h.addBatchRequest(h.SEND_MAIL,a,f,this,function(a){a&&
d.doCallback(c,e,a)}),h.submitBatch())}}};q.prototype.util={loadScript:function(a,b,c){d.loadScript(a,b,c)},loadJSON:function(a,b,c){h.JSONP.get(a,null,function(a){d.doCallback(b,c,a)})},loadCSS:function(a){d.loadCSS(a)},load:function(a,b,c,e,f){d.logDeprecated("blueConicClient.util.load (libname, libversion, liboptions, caller, onSuccess)","blueConicClient.util.loadScript (url, caller, onSuccess)");"function"!=typeof f?d.logError('blueConicClient.util.load "onSuccess" is not a function'):d.loadScript(a,
e,f)},loadLabels:function(a,b){d.logDeprecated("blueConicClient.util.loadLabels(caller, onSuccess)","blueConicClient.getProfileProperties(caller, onSuccess)");var c=(new Date).getTime()+ ++h.requestId;h.addBatchRequest(h.GET_PROPERTY_LABELS,null,c,this,function(c){var e={};if(c&&c.result){c=c.result;if(c.properties)for(var g in c.properties){e[g]={};var r=c.properties[g],p;for(p in r)e[g][p]=r[p]}d.doCallback(a,b,e)}});h.submitBatch()},log:function(a){d.log(a)}};q.prototype.util.cookie={setCookie:function(a,
b,c){return d.setCookie(a,b,c)},getCookie:function(a){return d.getCookie(a)}};q.prototype.util.array={ensureArray:function(a){return d.ensureArray(a)},isArray:function(a){return d.isArray(a)},diffArrays:function(a,b){return d.diffArrays(a,b)},removeItemFromArray:function(a,b){d.removeItemFromArray(a,b)},indexOfArray:function(a,b){return d.indexOfArray(a,b)},mergeArrays:function(a,b){d.mergeArrays(a,b)}};var nb=function(a){return{updateProfile:function(a,c){var b=a,f=c;"function"==typeof a&&(d.logDeprecated("blueConicClient.profile.updateProfile (onSuccess, caller)",
"blueConicClient.profile.updateProfile (caller, onSuccess)"),f=a,b=c);y.updateProfile(b,f);h.submitBatch()},createProfile:function(a,c){y.createProfile(a,c);h.submitBatch()},deleteProfile:function(a,c){var b=a,f=c;"function"==typeof a&&(d.logDeprecated("blueConicClient.profile.deleteProfile (onSuccess, caller)","blueConicClient.profile.deleteProfile (caller, onSuccess)"),f=a,b=c);y.deleteProfile(b,f);h.submitBatch()},getProfile:function(){return t?new R(a):null}}};q.prototype.functions={setLocaleFunction:function(a){a&&
"function"==typeof a?(W=a.call(null),k&&d.logInfo("runned locale function, the locale is now ["+W+"]")):W=db.call(this)},setEditableNode:function(a,b){if(v.fn.postMessage&&v.fn.getSelectorForElement){var c=null;"string"==typeof a?c=a:null!=a&&(c=v.fn.getSelectorForElement(a));v.fn.postMessage("editableNodeUpdate",{selector:c,options:b})}},sendMessage:function(a){v.fn.postMessage&&v.fn.postMessage("onInteractionMessage",a)}};q.prototype.json={parse:function(a){try{return d.checkNativeJsonLib(),wa?
n.JSON.parse(a):da.parse(a)}catch(b){return d.logError("Could not parse json ["+b.message+"]"),null}},stringify:function(a,b,c){try{d.checkNativeJsonLib();var e=!1,f=null;Array.prototype.toJSON&&(e=!0,f=Array.prototype.toJSON,delete Array.prototype.toJSON);var g;if(wa)return g=n.JSON.stringify(a,b,c),e&&(Array.prototype.toJSON=f),g;g=da.stringify(a,b,c);e&&(Array.prototype.toJSON=f);return g}catch(r){return d.logError("Could not stringify object ["+r.message+"]"),null}}};q.prototype.fn={createInteraction:function(a){if(a){var b=
d.getInteractionParameters(a);return new tb(a,b)}},postMessage:function(a,b){(n.opener&&n.opener!=n?n.opener:n.parent).postMessage({event:a,message:b,instanceName:n.bcEditModeInstanceName||v.instanceName},"*")},stringify:function(a,b,c){return d.stringifyObject(a,b,c)},addGlobalVarToBlacklist:function(a){ha[a]=null},addImplicitGlobalList:function(a){x.call(Za,a)},handlePreListeners:function(a){if(a)for(var b=0,c=a.length;b<c;b++){var e=a[b],f=e.getInteractionTypeId();k&&d.logInfo("start handling pre listener ["+
f+"]");var g=Va[f];if(g&&"function"===typeof g){var r=e.getBlueConicClient(),e=g.call(this,r,e);if(e.onPrepare&&"function"===typeof e.onPrepare){k&&d.logInfo("call method [onPrepare] for listener ["+f+"]");try{e.onPrepare()}catch(p){d.logError("an error occured in interactiontype: ["+f+"]\x3cbr\x3ecalled method: [onPrepare]\x3cbr\x3eerror: "+p.message),k&&console.error&&console.error(p)}}}}},updateParams:function(a,b,c){for(var d=v._handledInteractions,f=0,g=d.length;f<g;f++){var r=d[f];a&&null===
r.id&&(r.id=a);if(r.id==a){r.context.setParameters(b,c);var p="function"==typeof r.interaction.onUpdate?r.interaction.onUpdate:null;p&&p.call(r.interaction)}}},handleInteractions:function(a,b){a=B.handleLocalEditModeInteractions(a);var c=B.prepareInteractions(a,b);(a=document.getElementById(kb))&&a.parentNode.removeChild(a);a=[];for(var e=0,f=c.length;e<f;e++){var g=c[e];if(g.getPreloadProperties)try{var r=g.getPreloadProperties();d.mergeArrays(a,r)}catch(m){d.logError("an error occured in interactiontype: ["+
g.ctx.getInteractionTypeId()+"]\x3cbr\x3ecalled method: [getPreloadProperties]\x3cbr\x3eerror: "+m.message),k&&console.error&&console.error(m)}}if(t&&0<a.length){k&&d.logInfo("start preloading "+a.length+" profile properties");var p=0,r=function(){p++;2===p&&B.executeInteractionsOnDocReady(c,b)};B.downloadLibraries(r);t.loadValues(a,this,r)}else k&&d.logInfo("skip preloading "+a.length+" profile properties"),B.executeInteractionsOnDocReady(c,b)},registerInteractionType:function(a,b,c,e){var f=[];
if(b){for(var g=0;c&&g<c.length;g++)x.call(f,c[g].url+" - "+c[g].sharing);k&&d.logInfo("register plugin ["+a+"] with libraries \x3cbr\x3e"+f.join("\x3cbr\x3e"))}else return d.logInfo("did not register interactionype with id : ["+a+"]. InteractionTypeImpl is undefined."),null;var r;(function(){r=function(c,e){try{return new b(c,e)}catch(E){d.logError("an error occured in interactiontype: ["+a+"]\x3cbr\x3ecalled method: [init]\x3cbr\x3eerror: "+E.message),k&&console.error&&console.error(E)}}})();if(e)for(f=
0;f<e.length;f++)(g=e[f])&&g.id&&g.baseUrl&&!Ca[g.id]&&(Ca[g.id]=g.baseUrl);Va[a]=r;Wa[a]=c},registerLibrary:function(a,b,c){k&&d.logInfo("register library ["+a+"]");ga[a]={libraryFunction:b,libraryName:c}},registerTemplates:function(a){if(a&&!pa){var b=d.getPropertiesFromObject(a);k&&d.logInfo("registering templates with the following IDs ["+b+"]");for(var c=0;c<b.length;c++){var e=a[b[c]];e.css!==G&&e.js!==G&&e.html!==G&&(jb[b[c]]=new vb(b[c],e.html,e.css,e.js,e.precompiled?e.precompiled:null))}pa=
!0}},saveGlobalVariables:function(){var a={},b=[],c=null;for(c in n)ha[c]===G&&(a[c]=n[c],x.call(b,c));for(var e=Za.length,f=0;f<e;f++)c=Za[f],-1===d.indexOfArray(b,c)&&n[c]&&(a[c]=n[c],x.call(b,c));return function(){for(var c=[],e=b.length,f=0;f<e;f++){var m=b[f];if(ha[m]===G&&n[m]!==a[m]){k&&d.logInfo(typeof n[m]+" ["+m+"] moved to private space");this[m]=n[m];x.call(c,m);try{n[m]=a[m]}catch(Pa){}}}var e=[],h;for(h in n)ha[h]===G&&e.push(h);h=d.diffArrays(e,b);e=0;for(f=h.length;e<f;e++){var m=
h[e],l=typeof n[m];if(ha[m]===G&&(this[m]=n[m],x.call(c,m),"jQuery"===m))try{n[m]=G,delete n[m]}catch(Pa){}k&&d.logInfo(l+" ["+m+"] added to private space")}return c}},importLibraries:function(a){a=d.ensureArray(a);var b=a.length;if(0!==b){for(var c=ob(),e=0;e<b;e++)pb(a[e]);c.call(this)}},importAndCacheLibraries:function(a){a=d.ensureArray(a);var b=a.length,c=this.ctx.getInteractionTypeId();if(0!==b)if(c)for(var e=0;e<b;e++){var f=a[e],g=ga[f].libraryName;Ja[g]?(function(a){for(var b,c=0;c<a.length;c++)b=
a[c],k&&d.logInfo("added ["+b.key+"] from cache to private space"),this[b.key]=b.object}.call(this,Ja[g]),k&&d.logInfo("retrieved library ["+f+"] from cache with key ["+g+"] for interactiontype ["+c+"]")):(Ja[g]=[],function(a,b){var e=ob();pb(a);for(var e=e.call(this),f=0;f<e.length;f++){var p={key:null,object:null};p.key=e[f];p.object=this[e[f]];x.call(b,p)}k&&d.logInfo("added library ["+a+"] to cache with key ["+g+"] for interactiontype ["+c+"]")}.call(this,f,Ja[g]))}else k&&d.logInfo("Could not determine the interactiontype during library import")},
parseLibrary:function(a){if(ga)if(ga[a]){var b=ga[a].libraryFunction;if(b&&"function"==typeof b){k&&d.logInfo("start import library ["+a+"]");var c=null,e=null;n.define&&(k&&d.logInfo('moving "window.define" out of the way, to make sure library ['+a+"] is parsed properly"),c=n.define,n.define=null);"object"===typeof module&&"object"===typeof module.exports&&(k&&d.logInfo('moving "module.exports" out of the way, to make sure library ['+a+"] is parsed properly"),e=module.exports,module.exports=G);b.call(this);
c&&(k&&d.logInfo("resetting window.define to original state."),n.define=c);e&&(k&&d.logInfo("resetting module.exports to original state."),module.exports=e)}else d.logError("library with url ["+a+"] not found")}else d.logError("the external library ["+a+"] is declared in the plugin XML but not present.");else d.logError("the external libraries are not loaded")},getDomainGroup:function(a){a=d.hash(a);for(var b in ta){var c=ta[b],e;for(e in c)if(c[e]==a)return b}return"DEFAULT"},setRequestInfo:function(a){},
getDOMElement:function(a){return d.getDOMElement(a)},version:"2.4.0"};var qb=q.prototype.fn.createInteraction,$a=q.prototype.fn.handleInteractions,Ib=q.prototype.fn.registerInteractionType,Jb=q.prototype.fn.handlePreListeners,ob=q.prototype.fn.saveGlobalVariables,pb=q.prototype.fn.parseLibrary,B={getBlueConicClient:function(a){var b=v,c=a&&-1<a.getInteractionTypeId().indexOf("editmode_")&&("GLOBALLISTENER"===a.getType()||"ACTION"===a.getType());a&&!c&&(a.getInteractionId()===a.getInteractionTypeId()&&
"TOOLBAR"!==a.getType()||"GLOBALLISTENER"===a.getType())?(b=new q,b.profile=new nb(a.getInteractionTypeId())):b||(b=new q,b.profile=new nb);return b},publishPlainEventAndCallHook:function(a){if(Cb)try{var b;document.createEvent?(b=document.createEvent("Event"),b.initEvent(a,!0,!0),n.dispatchEvent(b)):(b=document.createEventObject(),n.fireEvent(a,b))}catch(c){}try{if(n[a]&&"function"===typeof n[a])n[a]()}catch(c){}},hideAllPositions:function(){var a=T?T:document.location.hostname;k&&d.logInfo("start hide all positions for hostname ["+
a+"]");var b=oa[d.hash(a)];b&&0<b.length&&d.addCSSToDOM(b,Xa,1250);k&&d.logInfo("finished hide all positions for hostname ["+a+"]")},checkPreListeners:function(){var a=[];if(ca.length&&0<ca.length){for(var b=0,c=ca.length;b<c;b++){var d=ca[b];Ib(d.id,d.interactionType);d=qb({id:d.id,name:d.id,interactionType:{myId:d.id}});x.call(a,d)}Jb(a)}},observeDOMChanges:function(){var a=v,b=document.getElementsByTagName("body")[0];b&&!a._observer&&(n.MutationObserver||n.WebKitMutationObserver||n.MozMutationObserver?
(a._observer=new MutationObserver(function(a,b){B.handleDOMMutation()}),a._observer.observe(b,{childList:!0,subtree:!0,characterData:!0})):n.addEventListener&&b.addEventListener("DOMNodeInserted",function(){B.handleDOMMutation()},!1))},handleDOMMutation:function(){v._handleMutationTO&&clearTimeout(v._handleMutationTO);v._handleMutationTO=setTimeout(function(){var a=v._pendingInteractions.length;v.isPaused!==G&&v.isPaused||k&&d.logInfo("dom mutation detected, #pending interactions: ["+a+"]");0<a&&
(a=B.handleOnLoad(v._pendingInteractions.slice(),!1),k&&d.logInfo("dom mutation detected, #handled: ["+a.length+"]"),0<a.length&&((a=document.getElementById(Na))&&a.parentNode.removeChild(a),B.hidePendingPositions()));if((a=V.getSelectors().concat())&&0<a.length){k&&d.logInfo("listener subscribers found for the following selectors: ["+a+"]. Callbacks will be called now.");for(var b=0;b<a.length;b++){var c=a[b];try{c&&d.getDOMElement(c)&&V.publish(c)}catch(e){k&&console.error(e)}}}delete v._handleMutationTO},
100)},isNative:function(a,b){(a=/\{\s*\[native code\]\s*\}/.test(""+a))||d.logWarning("function: ["+b+"] is not native any more, the target website overruled it.");return a},handleLocalEditModeInteractions:function(a){if(!q.prototype.isInEditMode())return a;for(var b=[],c=[],e=0;e<a.length;e++){var f=a[e],g=f.getInteractionTypeId();x.call(b,g);f.isLocalEditMode()?k&&d.logInfo("skipping local edit mode interaction ["+g+"]"):x.call(c,f)}for(a=0;a<qa.length;a++)e=qa[a],f=e.getInteractionTypeId(),e.isLocalEditMode()&&
(g=f.substring(11),-1!==b.indexOf(g)&&(k&&d.logInfo("adding local edit mode interaction ["+f+"] for interaction type ["+g+"]"),Eb.call(c,e)));return c},shouldExecute:function(a,b){for(var c=0,e=v._handledInteractions.length;c<e;c++){var f=v._handledInteractions[c],f=-1<d.indexOfArray(Ab,b)&&a===f.id,g=!1;f||(g=a&&-1<a.indexOf("editmode_"));if(f||g)return!1}return!0},executeInteractionsOnDocReady:function(a,b){b?B.downloadLibraries(function(){B.injectLibraries(a);Q?B.callInteractionMethods(a,b):d.bindDocumentReady(this,
function(){B.callInteractionMethods(a,b)})}):(B.injectLibraries(a),Q?B.callInteractionMethods(a,b):d.bindDocumentReady(this,function(){B.callInteractionMethods(a,b)}))},downloadLibraries:function(a){eb?d.doCallback(this,a):Qa?X.push(a):(X.push(a),Qa=!0,k&&d.logInfo("start library download from url [/plugin/library] with version ["+Ba+"]"),a=Ba?M+"/plugin/library/"+Ba:M+"/plugin/library",P&&(a+="_e"),d.loadScript(a,this,function(){eb=!0;Qa=!1;k&&d.logInfo("finished library download");if(X&&0<X.length){for(var a=
0;a<X.length;a++)X[a]&&d.doCallback(this,X[a]);X=[]}}))},injectLibraries:function(a){for(var b=0,c=a.length;b<c;b++){var e=a[b].ctx.getInteractionTypeId(),f=a[b].ctx.getName()?a[b].ctx.getName():a[b].ctx.getInteractionId();k&&d.logInfo("start import libraries for interaction ["+f+"]");Wa[e]&&a[b].importLibraries(Wa[e]);k&&d.logInfo("finished import libraries for interaction ["+f+"]")}},prepareInteractions:function(a,b){for(var c=[],e=0,f=a.length;e<f;e++){var g=a[e],h=g.getInteractionTypeId(),p=g.getName()?
g.getName():g.getInteractionId();if(b||!v._handledInteractions||B.shouldExecute(g.getInteractionId(),g.getType())){k&&d.logInfo("start initializing interaction ["+p+"], interaction type ["+h+"]");var m=Va[h];if(m&&"function"===typeof m){var E=g.getBlueConicClient();if(m=m.call(this,E,g)){m.ctx=g;if(m.getContent&&"function"==typeof m.getContent&&"function"==typeof m.ctx.getPosition&&m.ctx.getPosition()){E=g=null;try{g=m.getContent()}catch(Ka){d.logError("an error occured in interactiontype: ["+m.ctx.getInteractionTypeId()+
"]\x3cbr\x3ecalled method: [getContent]\x3cbr\x3eerror: "+Ka.message),k&&console.error&&console.error(Ka)}E=m.ctx.getPosition();q.prototype.isInSimulatorMode()&&!g&&E&&m.ctx.getDOMElement();g&&E&&(k&&d.logInfo("start set content mechanism for interaction ["+p+"] with position ["+E+"]"),function(a,b,c){function e(){g++;(f=c.ctx.getDOMElement())?c.ctx.isOnLoadExecuted()?k&&d.logInfo('"onLoad" already executed for interaction ['+p+'], skipping "getContent"'):(c.ctx.setGetContentExecuted(!0),d.setContent(f,
a),k&&d.logInfo("[+] set content on position ["+b+"] was successful, recursion ["+g+"]")):50<=g?k&&d.logInfo("failed to set content on position ["+b+"] max recursion reached"):Ga?k&&d.logInfo("failed to set content on position ["+b+"] onEvent started"):n.setTimeout(e,100)}var f=null,g=0;e.call(this)}(g,E,m))}x.call(c,m)}}else k&&d.logInfo("InteractionType with id ["+h+"] not found");k&&d.logInfo("finished initializing interaction ["+p+"], interaction type ["+h+"]")}else k&&d.logInfo("skipping interaction, already executed ["+
p+"], interaction type ["+h+"]")}return c},handleOnLoad:function(a,b){for(var c=[],e=0,f=a.length;e<f;e++){var g=a[e];if(g){var h="function"==typeof g.onLoad?g.onLoad:g.onEvent,p=g.ctx.getName()?g.ctx.getName():g.ctx.getInteractionId(),m=g.ctx;if(b||!v._handledInteractions||B.shouldExecute(m.getInteractionId(),m.getType()))if(m.getPosition()&&m.getDOMElement()||!m.getPosition()&&!m.isPositionTypePlugin()||m.getPosition()&&m.isGetContentExecuted()){d.removeItemFromArray(v._pendingInteractions,g);k&&
d.logInfo("[+] start onEvent for interaction ["+p+"]");c.push({id:m.getInteractionId(),name:m.getName(),position:m.getPosition(),type:m.getInteractionTypeId(),isPositionFound:m.isPositionFound()});v._handledInteractions.push({id:m.getInteractionId(),interaction:g,context:m});try{m.setOnLoadExecuted(!0);var E=m.getBlueConicClient();h.call(g,E.profile.getProfile(),m.getParameters(),m.getPosition(),E,m.getInteractionId(),M)}catch(Ka){d.logError("an error occured in interactiontype: ["+m.getInteractionTypeId()+
"]\x3cbr\x3ecalled method: [onEvent]\x3cbr\x3eerror: "+Ka.message),k&&console.error&&console.error(Ka)}k&&d.logInfo("finished onEvent for interaction ["+p+"]")}else if(m.getPosition()){h=!0;for(p=0;p<blueConicClient._pendingInteractions.length;p++)h&&blueConicClient._pendingInteractions[p]&&blueConicClient._pendingInteractions[p].ctx.getInteractionId()===m.getInteractionId()&&(h=!1);h&&v._pendingInteractions.push(g)}}}0<c.length&&!b&&w.publish("onHandledInteractions",{handledInteractions:c});return c},
callInteractionMethods:function(a,b){Q?(Ha=Ga=!0,v._pendingInteractions||(v._pendingInteractions=[]),v._handledInteractions||(v._handledInteractions=[]),k&&d.logInfo("start running interactions"),b&&w.publish(w.ON_BEFORE_INTERACTIONS),a=B.handleOnLoad(a,b),k&&d.logInfo("finished running interactions"),w.publish(w.ON_EVENT_READY,{blueConicClient:v,handledInteractions:a,isFirstLoad:b}),b&&(0<v._pendingInteractions.length&&B.hidePendingPositions(),B.observeDOMChanges()),Ha=Ga=!1,v.profile.updateProfile()):
k&&d.logInfo("cannot run onLoad: document ready ["+Q+"]")},hidePendingPositions:function(){if(0<v._pendingInteractions.length){for(var a=oa[d.hash(T?T:document.location.hostname)],b=[],c=0;c<v._pendingInteractions.length;c++){var e=v._pendingInteractions[c];-1<d.indexOfArray(a,e.ctx.getPosition())&&b.push(e.ctx.getPosition())}0<b.length&&(k&&d.logInfo("hiding interactions: ["+b+"]"),(a=document.getElementById(Na))&&a.parentNode.removeChild(a),d.addCSSToDOM(b,Na))}}};R.prototype.permission={getLevel:function(){return l.getLevel()},
setLevel:function(a,b){return l.setLevel(a,b)}};R.prototype.permission.optin={};R.prototype.permission.optout={};var l={DO_NOT_TRACK:"DO_NOT_TRACK",ANONYMOUS:"ANONYMOUS",PERSONAL:"PERSONAL",propertyOptOutHandler:null,propertyOptInHandler:null,pluginOptInHandler:null,pluginOptOutHandler:null,permissionLevel:null,previousPermissionLevel:null,isPermissionLevelChanged:!1,PermissionHandler:function(){this.itemList=[];this.removeList=[];this.addList=[];this.getAll=function(){return this.itemList};this.add=
function(a){-1===d.indexOfArray(this.itemList,a)&&(x.call(this.itemList,a),x.call(this.addList,a),d.removeItemFromArray(this.removeList,a))};this.remove=function(a){d.removeItemFromArray(this.itemList,a);x.call(this.removeList,a);d.removeItemFromArray(this.addList,a)};this.getRemoveList=function(){return this.removeList};this.getAddList=function(){return this.addList};this.set=function(a){this.itemList=a};this.clear=function(){this.addList=[];this.removeList=[]}},setLevel:function(a,b){if(a!==l.DO_NOT_TRACK&&
a!==l.ANONYMOUS&&a!==l.PERSONAL)return d.logInfo("invalid permission level ["+a+"]. Use one of \x3cbr\x3eblueConicClient.permission.level.DO_NOT_TRACK\x3cbr\x3eblueConicClient.permission.level.ANONYMOUS\x3cbr\x3eblueConicClient.permission.level.PERSONAL"),!1;l.previousPermissionLevel=l.permissionLevel;l.isPermissionLevelChanged=!0;l.message=b;l.permissionLevel=a;k&&d.logInfo("setPermissionLevel from ["+l.previousPermissionLevel+"] to ["+l.permissionLevel+"]");return!0},getLevel:function(){return l.permissionLevel},
createAPI:function(){function a(a){var b=new l.PermissionHandler;a.getProfileProperties=function(){return b.getAll()};a.addProfileProperty=function(a){return b.add(a)};a.removeProfileProperty=function(a){return b.remove(a)};return b}function b(a){var b=new l.PermissionHandler;a.getPlugins=function(){return b.getAll()};a.addPlugin=function(a){return b.add(a)};a.removePlugin=function(a){return b.remove(a)};return b}l.propertyOptOutHandler=a(R.prototype.permission.optout);l.propertyOptInHandler=a(R.prototype.permission.optin);
l.pluginOptInHandler=b(R.prototype.permission.optin);l.pluginOptOutHandler=b(R.prototype.permission.optout);q.prototype.permission={};q.prototype.permission.level={DO_NOT_TRACK:l.DO_NOT_TRACK,ANONYMOUS:l.ANONYMOUS,PERSONAL:l.PERSONAL}}};l.createAPI();var y={addQueue:{},setQueue:{},callbackQueue:[],addSources:{},setSources:{},replaySources:{},getProfile:function(a,b){var c=(new Date).getTime()+ ++h.requestId;h.addBatchRequest(h.GET_PROFILE,null,c,this,function(c){this._handleProfileResponse(c,!0);
d.doCallback(a,b,t)})},_handleProfileResponse:function(a,b){if(a&&a.result){var c=function(a,c){var e=l[a.result.permissionlevel];l.permissionLevel=e;var f=d.ensureArray(a.result.optinproperties);l.propertyOptInHandler.set(f);var g=d.ensureArray(a.result.optoutproperties);l.propertyOptOutHandler.set(g);var h=d.ensureArray(a.result.optinplugins);l.pluginOptInHandler.set(h);a=d.ensureArray(a.result.optoutplugins);l.pluginOptOutHandler.set(a);k&&(c="Profile object initialized"+("\x3cbr\x3e-id : ["+c+
"]")+("\x3cbr\x3e-permission level : ["+e+"]")+("\x3cbr\x3e-optin properties : ["+f+"]"),c+="\x3cbr\x3e-optout properties : ["+g+"]",c+="\x3cbr\x3e-optin plugins : ["+h+"]",c+="\x3cbr\x3e-optout plugins : ["+a+"]",d.logInfo(c));b&&w.publish(w.ON_READY,{blueConicClient:v})},e=a.profileId?a.profileId:a.tempId?a.tempId:a.result.id;t?(function(a){this._id=a}.call(t,e),t.getId()&&l.getLevel()||c.call(this,a,e)):(t=new Fa(e),c.call(this,a,e));l.getLevel()!==l.DO_NOT_TRACK&&t.deleteDntRefusedObjectives()}},
deleteProfile:function(a,b){var c=t.getPrivacyLegislation(),e=(new Date).getTime()+ ++h.requestId;h.addBatchRequest(h.DELETE_PROFILE,null,e,this,function(){d.setBcSessionIdCookie(null);t=new Fa;l.permissionLevel=l.DO_NOT_TRACK;t._properties.privacy_legislation=c;k&&d.logInfo("profile is deleted");d.doCallback(a,b)})},createProfile:function(a,b){var c=(new Date).getTime()+ ++h.requestId;h.addBatchRequest(h.CREATE_PROFILE,null,c,this,function(c){t=null;y.clearQueue();this._handleProfileResponse(c,!1);
k&&d.logInfo("new profile is created");d.doCallback(a,b,t)})},clearQueue:function(){y.addQueue={};y.setQueue={};y.addSources={};y.setSources={}},updateProfile:function(a,b){if(Ha)b&&y.callbackQueue.push({caller:a,onSuccessCallback:b});else{var c=function(a){for(var b in a)return!1;return!0},e=function(a,b){a===l.DO_NOT_TRACK&&d.setBcSessionIdCookie(b.profileId)};l.isPermissionLevelChanged&&l.previousPermissionLevel===l.DO_NOT_TRACK?function(){l.isPermissionLevelChanged=!1;var c=(new Date).getTime()+
++h.requestId,g={};g.level=d.ensureArray(l.permissionLevel);g.message=d.ensureArray(l.message);t&&(t.getConsentedObjectives()&&(g.consented_objectives=d.ensureArray(t.getConsentedObjectives())),t.getRefusedObjectives()&&(g.refused_objectives=d.ensureArray(t.getRefusedObjectives())));d.setBcSessionIdCookie(null);h.addBatchRequest(h.SET_PERMISSION_LEVEL,g,c,this,function(c){e(l.getLevel()+"",c);y.getProfile(this,function(){if(t)for(var c=t.getPropertyNames(),e=0;e<c.length;e++){var f=c[e],g=y.replaySources[f];
t.setValues(f,t.getValues(f),g)}y.updateProfile(this,function(){v.createEvent("PAGEVIEW",!1,this,function(c){w.publish(w.ON_PERMISSION_LEVEL_CHANGE,{permissionLevel:l.permissionLevel,previousPermissionLevel:l.previousPermissionLevel});d.doCallback(a,b)})});h.submitBatch()});h.submitBatch()});h.submitBatch()}():function(){function f(){ia--;if(0===ia){if(y.callbackQueue&&0<y.callbackQueue.length){for(var c=0;c<y.callbackQueue.length;c++)d.doCallback(y.callbackQueue[c].caller,y.callbackQueue[c].onSuccessCallback);
y.callbackQueue=[]}d.doCallback(a,b)}}var g=y.addQueue,k=y.setQueue,p=y.addSources,m=y.setSources;y.clearQueue();for(var E=d.getPropertiesFromObject(k),n=0,Pa=E.length;n<Pa;n++)delete g[E[n]];var q=d.getPropertiesFromObject(g),ia=1;(new Date).getTime();(function(){if(l.isPermissionLevelChanged){var a={};ia++;var b=l.getLevel()+"";a.level=d.ensureArray(b);a.message=d.ensureArray(l.message);l.isPermissionLevelChanged=!1;var c=(new Date).getTime()+ ++h.requestId;h.addBatchRequest(h.SET_PERMISSION_LEVEL,
a,c,this,function(a){f.call(this);e(b,a);w.publish(w.ON_PERMISSION_LEVEL_CHANGE,{permissionLevel:l.permissionLevel,previousPermissionLevel:l.previousPermissionLevel})})}})();(function(){var a=l.pluginOptInHandler&&l.pluginOptInHandler.getAddList(),b=l.propertyOptInHandler&&l.propertyOptInHandler.getAddList(),c={};if(0<a.length||0<b.length)ia++,c.properties=b,c.plugins=a,a=(new Date).getTime()+ ++h.requestId,h.addBatchRequest(h.ADD_OPTIN,c,a,this,f)})();(function(){var a=l.pluginOptInHandler&&l.pluginOptInHandler.getRemoveList(),
b=l.propertyOptInHandler&&l.propertyOptInHandler.getRemoveList(),c={};if(0<a.length||0<b.length)ia++,c.properties=b,c.plugins=a,a=(new Date).getTime()+ ++h.requestId,h.addBatchRequest(h.REMOVE_OPTIN,c,a,this,f)})();(function(){var a=l.pluginOptOutHandler&&l.pluginOptOutHandler.getAddList(),b=l.propertyOptOutHandler&&l.propertyOptOutHandler.getAddList(),c={};if(0<a.length||0<b.length)ia++,c.properties=b,c.plugins=a,a=(new Date).getTime()+ ++h.requestId,h.addBatchRequest(h.ADD_OPTOUT,c,a,this,f)})();
(function(){var a=l.pluginOptOutHandler&&l.pluginOptOutHandler.getRemoveList(),b=l.propertyOptOutHandler&&l.propertyOptOutHandler.getRemoveList(),c={};if(0<a.length||0<b.length)ia++,c.properties=b,c.plugins=a,a=(new Date).getTime()+ ++h.requestId,h.addBatchRequest(h.REMOVE_OPTOUT,c,a,this,f)})();(function(){if(0<E.length){var a={};a.properties=k;c(m)||(a.sources=m);ia++;var b=(new Date).getTime()+ ++h.requestId;h.addBatchRequest(h.SET_PROPERTIES,a,b,this,f)}})();(function(){if(0<q.length){var a={};
a.properties=g;c(p)||(a.sources=p);ia++;var b=(new Date).getTime()+ ++h.requestId;h.addBatchRequest(h.ADD_PROPERTIES,a,b,this,f)}})();f();l.propertyOptOutHandler&&l.propertyOptOutHandler.clear();l.propertyOptInHandler&&l.propertyOptInHandler.clear();l.pluginOptInHandler&&l.pluginOptInHandler.clear();l.pluginOptOutHandler&&l.pluginOptOutHandler.clear()}()}},getProperties:function(a,b,c){a={property:a};var e=(new Date).getTime()+ ++h.requestId;h.addBatchRequest(h.GET_PROPERTIES,a,e,this,function(a){function e(a,
b){b=d.ensureArray(b);this._properties[a]=b}if(a&&a.result&&a.result.properties){a=a.result.properties;for(var f in a){var p=a[f];p&&"function"!=typeof p&&e.call(t,f,p)}}d.doCallback(b,c)})},unsavedLog:function(a,b,c,e,f){var g=c?y.addQueue:y.setQueue;c||(delete y.addQueue[a],delete y.setQueue[a]);g[a]||(g[a]=[]);var g=g[a],h=function(){if(e&&f){var b=null;c?c&&(b=y.addSources):b=y.setSources;b&&(b[f]||(b[f]=[]),-1===v.util.array.indexOfArray(b[f],a)&&b[f].push(a));y.replaySources[a]=f}};if(d.isArray(b)){for(var p=
b.length,m=0;m<p;m++)x.call(g,b[m]);h()}else null!==b&&b!==G?(x.call(g,b),h()):g=null}},w={types:["PAGEVIEW","VIEW","CLICK","CONVERSION"],dynamicTypes:[],eventQueue:[],handlersByEvent:{},ON_PERMISSION_LEVEL_CHANGE:"onpermissionlevelchange",ON_READY:"onready",ON_EVENT_READY:"oneventready",ON_URL_CHANGE:"onurlchange",ON_BEFORE_PRELISTENERS:"onbeforeprelisteners",ON_BEFORE_INTERACTIONS:"onbeforeinteractions",ON_SEGMENT_CHANGE:"onsegmentchange",publish:function(a,b){if(a&&"string"==typeof a){var c={};
c.name=a.toLowerCase();c.context=b;w.eventQueue.push(c);k&&d.logInfo("published event : ["+a+"]");w.handleEvent(c)}},subscribe:function(a,b,c){if(a&&"string"==typeof a&&c&&"function"==typeof c){a=a.toLowerCase();var e=this.handlersByEvent[a],e=e?e:[];w.handlersByEvent[a]=e;var f={};f.handlerObject=b;f.handlerFunction=c;e.push(f);k&&d.logInfo("subscribing to event: ["+a+"]");w.handleQueuedEvents(a,f)}},handleQueuedEvents:function(a,b){for(var c=0,e=w.eventQueue.length;c<e;c++){var f=w.eventQueue[c];
f.name==a&&d.doCallback(b.handlerObject,b.handlerFunction,a,f.context)}},handleEvent:function(a){if(a&&a.name)for(var b=a.name.toLowerCase(),c=w.handlersByEvent[b],c=c?c:[],e=0,f=c.length;e<f;e++){var g=c[e];d.doCallback(g.handlerObject,g.handlerFunction,b,a.context)}},create:function(a,b,c){var e=(new Date).getTime()+ ++h.requestId;a={type:d.ensureArray(a.type),interaction:d.ensureArray(a.interaction),referrer:d.ensureArray(a.referrer),profile:d.ensureArray(a.profile)};h.addBatchRequest(h.CREATE_EVENT,
a,e,this,function(a){function e(a){a=d.ensureArray(a);for(var b=a.length,c=0;c<b;c++){var e=a[c];e&&(e=qb(e),x.call(f,e))}}if(a&&a.result){a=a.result;var f=[];a.interactions&&e(a.interactions);a.loggedIn&&"true"===a.loggedIn&&(k=!0);a.channelId&&(hb=a.channelId);a.ipaddress&&(ib=a.ipaddress);if(a.interactionnames){for(var p=[],m=0;m<U.length;m++)p.push(U[m].id);for(m=0;m<a.interactionnames.length;m++)-1===d.indexOfArray(p,a.interactionnames[m].id)&&U.push(a.interactionnames[m])}if(a.objectives)for(null===
fa&&(fa={}),p=0;p<a.objectives.length;p++)-1===d.indexOfArray(fa,a.objectives[p].id)&&(m=a.objectives[p].myId,fa[m]=new wb(m,a.objectives[p].myName,a.objectives[p].myDescription));if(a.connections){p=[];for(m=0;m<Y.length;m++)p.push(Y[m].id);for(m=0;m<a.connections.length;m++){var h=a.connections[m],l=d.indexOfArray(p,h.id);-1===l?Y.push(h):Y[l]=h}}a.segments&&(p=null,ea&&0<ea.length&&ea.map&&(p=ea.map(function(a){return a.id})),ea=a.segments,null!==p&&(m=ea.map(function(a){return a.id}),m.sort().join(",")!==
p.sort().join(",")&&w.publish(w.ON_SEGMENT_CHANGE,{old:p,new:m})));a.pluginversion&&(Aa=a.pluginversion);a.libraryversion&&(Ba=a.libraryversion);a.templatesversion&&(Ia=a.templatesversion);a.simulatordate&&(Ra=new Date(a.simulatordate));a.eventtypes&&(p=d.ensureArray(a.eventtypes),w.dynamicTypes=w.dynamicTypes.concat(p));a.legislation&&(t._properties.privacy_legislation=a.legislation);a.consentedobjectives&&(t._properties.consented_objectives=a.consentedobjectives);a.refusedobjectives&&(t._properties.refused_objectives=
a.refusedobjectives);d.doCallback(b,c,f)}else d.doCallback(b,c,null)})}};q.prototype.event={publish:function(a,b){w.publish(a,b)},subscribe:function(a,b,c){w.subscribe(a,b,c)},onProfilePermissionChange:w.ON_PERMISSION_LEVEL_CHANGE,onReady:w.ON_READY,onEventReady:w.ON_EVENT_READY,onUrlChange:w.ON_URL_CHANGE,onBeforePreListeners:w.ON_BEFORE_PRELISTENERS,onBeforeInteractions:w.ON_BEFORE_INTERACTIONS,onSegmentChange:w.ON_SEGMENT_CHANGE};var rb={getRecommendationsEndpoint:function(a,b){var c=L+F+"/rest/recommendations",
e=d.getZoneId();e&&(c+="/"+e);c+=b?"/"+b:"";a=a||{};b=d.getPropertiesFromObject(a);for(e=0;e<b.length;e++)"request"===b[e]&&"object"===typeof a[b[e]]&&(a[b[e]]=v.json.stringify(a[b[e]]));a=d.objectToUrl(a);return c+(a?"?"+a:"")},createEvent:function(a,b){h.JSONP.get(this.getRecommendationsEndpoint(a,"stats"),null,function(a){b&&d.doCallback(this,b,a)})},getRecommendations:function(a,b){h.JSONP.get(this.getRecommendationsEndpoint(a),null,function(a){a=new ub(a);b&&d.doCallback(this,b,a)})}};q.prototype.recommendation=
{getRecommendations:function(a,b){rb.getRecommendations(a,b)},createEvent:function(a,b){rb.createEvent(a,b)}};var V={selectors:[],handlersBySelector:{},publish:function(a){a&&"string"===typeof a&&(k&&d.logInfo("published position update event for selector : ["+a+"]"),V.handlePositionUpdateEvent(a))},subscribe:function(a,b,c){if(!a||"string"!==typeof a)throw Error("Selector is empty or not of type string");if(!c||"function"!=typeof c)throw Error("No callback function defined or not a function.");-1===
d.indexOfArray(this.selectors,a)&&(d.isArray(a)?this.selectors=this.selectors.concat(a):this.selectors.push(a));var e=this.handlersBySelector[a],e=e?e:[];V.handlersBySelector[a]=e;var f={};f.handlerObject=b;f.handlerFunction=c;e.push(f);k&&d.logInfo("subscribing to position update event for selector: ["+a+"]")},handlePositionUpdateEvent:function(a){if(a){var b=V.handlersBySelector[a],b=b?b:[];delete V.handlersBySelector[a];d.removeItemFromArray(this.selectors,a);for(var c=0,e=b.length;c<e;c++){var f=
b[c];d.doCallback(f.handlerObject,f.handlerFunction,a)}}},getSelectors:function(){return this.selectors}};q.prototype.position={publish:function(a){V.publish(a)},subscribe:function(a,b,c){V.subscribe(a,b,c)}};q.prototype.objective={getObjectives:function(){return fa},getObjectiveById:function(a){return fa[a]?fa[a]:null}};var d={docReadyCallbacks:[],rxhtmlTag:/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,hash:function(a){for(var b=0,c,d=0;d<a.length;d++)c=a.charCodeAt(d),
b=31*b+c,b&=b;for(d=a.length-1;0<=d;d--)c=a.charCodeAt(d),b=31*b+c,b&=b;return b},doCallback:function(){for(var a=arguments[0],b=arguments[1],c=[],e=2,f=arguments.length;e<f;e++)x.call(c,arguments[e]);if(b&&"function"==typeof b)if(k)b.apply(a,c);else try{b.apply(a,c)}catch(g){d.logError("an error occured in callback function: ["+b+"], error: ["+g+"]")}},trimLeft:function(a){if(a)return a.replace(/^\s+/,"")},trimRight:function(a){if(a)return a.replace(/\s+$/,"")},map:function(a,b,c){if(Hb)return a.map(function(a){return b.call(c,
a)});for(var d=0,f=a.length,g=[];d<f;d++)d in a&&(g[d]=b.call(c,a[d]));return g},setContent:function(a,b){if(a&&b!==G&&null!==b){b=b.replace(d.rxhtmlTag,"\x3c$1\x3e\x3c/$2\x3e");var c=a.nodeName?a.nodeName.toLowerCase():a.nodeName;if(-1!==d.indexOfArray("area base br col command embed hr img input keygen link meta param source track wbr".split(" "),c)){var e=a.parentNode?a.parentNode.innerHTML:null;if(e){var f=document.createElement("div");f.appendChild(a.cloneNode(!0));b=e.replace(f.innerHTML,b);
if(a.parentNode.innerHTML!==b)try{a.parentNode.innerHTML=b,k&&d.logInfo("setContent replaced void element ["+c+"] with given html")}catch(g){k&&d.logInfo("setContent failed to replace void element ["+c+"] with given html")}}else k&&d.logInfo("could not set inner html for void element ["+c+"] because container was not ready")}else{for(;a.firstChild;)a.removeChild(a.firstChild);try{a.innerHTML=b}catch(g){c=document.createElement(),c.innerHTML=b,a.appendChild(c)}}}},setBcSessionIdCookie:function(a,b){n.isBcServer||
(d.setCookie("BCSessionID",a),b&&(b.BCSessionID=a))},setCookie:function(a,b,c){if(za&&a)if(null===b||b===G)document.cookie=a+"\x3d;expires\x3dThu, 01 Jan 1970 00:00:00 GMT; path\x3d/";else{var e=new Date;null===c||c===G||isNaN(c)?e.setDate(e.getDate()+365):e=0<c?new Date(e.getTime()+parseInt(c)):null;b&&"string"==typeof b&&(b=b.replace(/[\n\r]/g,""));b=a+"\x3d"+encodeURIComponent(b);e&&(b+=";expires\x3d"+e.toUTCString());b+=";path\x3d/";e=document.cookie+b;-1<a.indexOf("BCRevision")&&3E3<e.length?
k&&d.logInfo("could not set cookie ["+a+"] with size ["+b.length+"] because it would exceed the total cookie length of 3kb"):document.cookie=b}},getCookies:function(){var a=null,b=0,c={};if(!za)return c;a=null!==ya&&null===ka?ya:document.cookie;if(ya!==a)ya=a;else if(null!==ka)return ka;a&&-1<a.indexOf("$Version\x3d")&&document.cookie.match(/^\s*\$Version=(?:"1"|1);\s*(.*)/)&&(a=RegExp.$1,b=1);0===b?d.map(a.split(/[,;]/),function(a){a=a.split(/=/);var b=decodeURIComponent(d.trimLeft(a[0])),e=null;
try{if(1<a.length)for(var h=1;h<a.length;h++)e=e?e+a[h]:a[h],h<a.length-1&&(e+=encodeURIComponent("\x3d"));c[b]=e?decodeURIComponent(d.trimRight(e)):null}catch(p){}}):d.map(a.match(/(?:^|\s+)([!#$%&'*+\-.0-9A-Z^`a-z|~]+)=([!#$%&'*+\-.0-9A-Z^`a-z|~]*|"(?:[\x20-\x7E\x80\xFF]|\\[\x00-\x7F])*")(?=\s*[,;]|$)/g),function(a,b){b='"'===b.charAt(0)?b.substr(1,-1).replace(/\\(.)/g,"$1"):b;c[a]=b});return ka=c},getCookie:function(a){return d.getCookies()[a]},ensureArray:function(a){if(d.isArray(a))return a;
var b=[];null!==a&&a!==G&&x.call(b,a);return b},isArray:function(a){return a?Fb?Array.isArray(a):-1==fb.call(a).indexOf("Array")?!1:!0:!1},isDate:function(a){return a&&-1!=fb.call(a).indexOf("Date")&&a.getTime?!0:!1},diffArrays:function(a,b){if(Gb&&gb)return a.filter(function(a){return 0>b.indexOf(a)});var c,d=a.slice();for(a=0;a<d.length;a++)for(c=0;c<b.length;c++)if(d[a]===b[c]){d.splice(a,1);a--;break}return d},removeItemFromArray:function(a,b){if(d.isArray(a))for(var c;-1!==(c=d.indexOfArray(a,
b));)a.splice(c,1)},indexOfArray:function(a,b){if(!a||!d.isArray(a))return-1;if(gb)return a.indexOf(b);for(var c=0,e=a.length;c<e;c++)if(a[c]===b)return c;return-1},mergeArrays:function(a,b){if(d.isArray(a)&&b)if(d.isArray(b)||-1==d.indexOfArray(a,b))for(var c=0,e=b.length;c<e;c++){var f=b[c];-1===d.indexOfArray(a,f)&&x.call(a,f)}else x.call(a,b)},loadScript:function(a,b,c){var e=document.createElement("script"),f=!1,g;e.src=a;e.async=!0;e.onload=e.onreadystatechange=function(){f||this.readyState&&
"loaded"!==this.readyState&&"complete"!==this.readyState||(f=!0,e.onload=e.onreadystatechange=null,e&&e.parentNode&&e.parentNode.removeChild(e),d.doCallback(b,c))};g||(g=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]);g.appendChild(e)},loadCSS:function(a){d.loadCSS.urlMap||(d.loadCSS.urlMap={});d.loadCSS.counter||(d.loadCSS.counter=0);var b=d.loadCSS.urlMap,c=b[a];c||(b[a]="id_"+ ++d.loadCSS.counter);c=b[a];if(document.getElementById(c))k&&d.logInfo("skip loading css ["+
a+"]");else{k&&d.logInfo("start loading css ["+a+"]");var b=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0],e=document.createElement("link");e.id=c;e.rel="stylesheet";e.type="text/css";e.href=a;b.appendChild(e)}},bindDocumentReady:function(a,b){b&&"function"==typeof b&&(Q?d.doCallback(a,b):x.call(d.docReadyCallbacks,function(){d.doCallback(a,b)}))},docReady:function(){if(!Q){Q=!0;n.blueconicProxy&&h.submitBatch();k&&d.logInfo("[+] document ready event thrown by browser");
for(var a=d.docReadyCallbacks,b=a.length,c=0;c<b;c++)a[c].apply()}},getInteractionParameters:function(a){var b={};if(a){a=d.ensureArray(a.parameters);for(var c=0,e=a.length;c<e;c++){var f=a[c];if(f){for(var g={},h=0,p=f.parameter.length;h<p;h++){var m=f.parameter[h];m&&(g[m.id]=m.value)}b[f.locale]=g}}}return b},getPropertiesFromObject:function(a){if(!a)return[];var b=[],c;for(c in a)ua.call(a,c)&&"function"!=typeof a[c]&&x.call(b,c);return b},getDOMElement:function(a,b){if(!a)return null;"undefined"==
typeof b&&(b=d.isCSSSelector(a));return b?(a=Kb(a))&&0<a.length?a[0]:null:((b=document.getElementById(a))||(b=document.getElementsByTagName(a)),b&&b.length&&0<b.length?b[0]:b instanceof HTMLCollection&&0===b.length?null:b)},isCSSSelector:function(a){if(!a)return!1;var b=!1;-1!==a.indexOf("[")&&-1!==a.indexOf("]")&&-1!==a.indexOf("\x3d")&&(b=!0);var c=!1;if(-1!==a.indexOf("#")||-1!==a.indexOf(".")||-1!==a.indexOf(" ")||-1!==a.indexOf(":")||b)c=!0;return c},normalizePosition:function(a){if(!a)return null;
d.isCSSSelector(a)||(a="#"+a);return a},addCSSToDOM:function(a,b,c){if(a&&0!==a.length){k&&d.logInfo("hide positions  ["+a+"]");for(var e="",f=0,g=a.length;f<g;f++){var h=d.normalizePosition(a[f]);h&&(e=e+h+" {opacity:0.0;filter:alpha(opacity\x3d0);}\n")}a=document.createElement("style");a.setAttribute("type","text/css");a.setAttribute("id",b);a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e));(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a);
c&&0<c&&n.setTimeout(function(){var a=document.getElementById(b);a&&(a.parentNode.removeChild(a),k&&d.logInfo("timeout ["+c+"] expired; CSS ["+b+"] removed"))},c)}},getBaseURL:function(a){var b=null;Ca&&Ca[a]&&(b=Ca[a]);if(!b)return null;if(0==b.indexOf("/blueconic/static/plugins/"))return BC_URL+b;Bb||-1!=b.indexOf("https://localhost/")||-1!=b.indexOf("https://localhost:9090/")?b&&-1!==b.indexOf("http:")&&k&&d.logInfo("base url ["+b+"] for interaction type ["+a+']\x3cbr\x3e does not have "https" support'):
b=b.replace("https:","http:");return b},parseJSON:function(a){return a?v.json.parse(a):null},stringifyObject:function(a,b,c){return v.json.stringify(a,b,c)},checkNativeJsonLib:function(){wa&&(!Ua||(new Date).getTime()-100)>Ua&&(wa=B.isNative(n.JSON.parse,"window.JSON.parse")&&B.isNative(n.JSON.stringify,"window.JSON.stringify"),Ua=(new Date).getTime());wa||null!==da||xb()},handleProfileId:function(a,b){l.getLevel()!==l.DO_NOT_TRACK&&(b.BCSessionID!==a&&(k&&d.logInfo("update cookie [BCSessionID] with profile id ["+
a+"]"),d.setBcSessionIdCookie(a,b)),a&&b.BCTempID&&(d.setCookie("BCTempID",null),delete b.BCTempID,t&&!t.getId()&&function(a){this._id=a}.call(t,a)))},handleTempProfileId:function(a,b){a&&b.BCTempID!==a&&(d.setCookie("BCTempID",a,6E5),b&&d.getCookie("BCTempID")&&(b.BCTempID=a))},log:function(a){ja&&console.log("[BC]"+a)},logError:function(a){for(;-1!==a.indexOf("\x3cbr\x3e");)a=a.replace("\x3cbr\x3e","\n            ");d.log("[ERROR] "+a);ja&&console.trace&&(d.log("[ERROR] --stacktrace--"),console.trace(),
d.log("[ERROR] --end stacktrace--"))},logWarning:function(a){k&&d.log("[WARNING] "+a)},logInfo:function(a){if(k){for(var b=(new Date).getTime()-zb;-1!==a.indexOf("\x3cbr\x3e");)a=a.replace("\x3cbr\x3e","\n           ");d.log("[INFO] "+a+" +"+b+" ms")}},logDeprecated:function(a,b){k&&d.log("[DEPRECATED] function ["+a+"] is deprecated. \n                 Please use : "+b)},formatLocalDate:function(){var a=new Date,b=-a.getTimezoneOffset(),c=0<=b?"+":"-",d=function(a){a=Math.abs(Math.floor(a));return(10>
a?"0":"")+a};return a.getFullYear()+"-"+d(a.getMonth()+1)+"-"+d(a.getDate())+"T"+d(a.getHours())+":"+d(a.getMinutes())+":"+d(a.getSeconds())+c+d(b/60)+":"+d(b%60)},getCurrentTime:function(){var a=new Date;return("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)},objectToUrl:function(a){var b="",c;for(c in a){var e=a[c];if(d.isArray(e))for(var f=0;f<e.length;f++)""!==b&&(b+="\x26"),b+=c+"\x3d"+encodeURIComponent(e[f]);else""!==b&&(b+="\x26"),b+=c+"\x3d"+encodeURIComponent(e)}return b},
getZoneId:function(){return J?sessionStorage.getItem("BCZoneID"):d.getCookie("BCZoneID")},handleZoneId:function(a){J?a?sessionStorage.setItem("BCZoneID",a):sessionStorage.removeItem("BCZoneID"):a?d.setCookie("BCZoneID",a,3E5):d.setCookie("BCZoneID",null)}};B.hideAllPositions();var ab;ab=T?q.prototype.fn.getDomainGroup(T):n.blueconicProxy?q.prototype.fn.getDomainGroup(n.websiteHost):q.prototype.fn.getDomainGroup(document.location.hostname);var h={GET_PROFILE:"getProfile",CREATE_PROFILE:"createProfile",
DELETE_PROFILE:"deleteProfile",SET_PROPERTIES:"setProperties",ADD_PROPERTIES:"addProperties",GET_PROPERTIES:"getProperties",GET_LOGIN_STATUS:"getLoginStatus",GET_ALL:"getAll",CREATE_EVENT:"createEvent",GET_PROPERTY_LABELS:"getPropertyLabels",GET_PROFILE_PROPERTIES:"getProfileProperties",SEND_MAIL:"sendMail",ADD_OPTIN:"addOptin",REMOVE_OPTIN:"removeOptin",ADD_OPTOUT:"addOptout",REMOVE_OPTOUT:"removeOptout",SET_PERMISSION_LEVEL:"setPermissionLevel",SET_OBJECTIVES:"setObjectives",ADD_OBJECTIVES:"addObjectives",
resourceURL_GET:M+"/DG/"+ab+"/rest/rpc/",resourceURL_POST:M+"/DG/"+ab+"/rest/rpc/json",batchRequests:[],_batchTimeoutHandle:null,requestId:0,openRequests:0,_rpcThrottlingRequestCount:0,_rpcThrottlingTimeoutHandle:null,JSONP:function(){function a(a,b){var c=document.createElement("script"),e=!1;c.src=a;c.async=!0;c.onload=c.onreadystatechange=function(){e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e=!0,c.onload=c.onreadystatechange=null,c&&c.parentNode&&c.parentNode.removeChild(c))};
c.onerror=function(a){d.handleZoneId();b&&b(a)};f||(f=document.getElementsByTagName("head")[0]);f.appendChild(c)}function b(a){a="";var b=d.getCookies(),c=b.BCSessionID||"",b=b.BCTempID||"",e=T?encodeURIComponent(T):"";g.blueconicProxy&&g.bcChannelIdentifier?e=encodeURIComponent(g.bcChannelIdentifier):a+="referer\x3d"+encodeURIComponent(g.location)+"\x26";if(g.name&&-1<g.name.indexOf("bc_")){var f=g.name;if(f){for(var h=!1,p=f,k=0;k<lb.length;k++){var l=lb[k];-1<f.indexOf(l)&&(p=l,h=!0)}f=h?p:f.substring(f.indexOf("bc_"));
a+="mode\x3d"+f+"\x26"}}else if(P||g.opener)a+="checkCookie\x3dtrue\x26isopener\x3d"+("undefined"!=typeof g.opener&&null!=g.opener)+"\x26";a+="bcsessionid\x3d"+c+"\x26bctempid\x3d"+b+"\x26overruleReferrer\x3d"+e+"\x26time\x3d"+encodeURIComponent(d.formatLocalDate());if(t)for(c=t.getDntRefusedObjectives(),b=0;b<c.length;b++)a+="\x26bcro\x3d"+encodeURIComponent(c[b]);return a}function c(a,e,f,g,h){var m=(-1===a.indexOf("?")?"?":"")+b(a),p=function(a,b){var c=new XMLHttpRequest;"withCredentials"in c?
(c.open(a,b,!0),c.setRequestHeader("Content-Type","text/plain"),c.withCredentials=!0,c.timeout=3E4):c=null;return c}("POST",a+m+"\x26ts\x3d"+(new Date).getTime());if(!p)return d.logWarning("CORS POST request failed, is XMLHttpRequest overruled? Fallback to GET."),g(),!1;p.onload=function(){if(p.responseText){var a=v.json.parse(p.responseText);!h&&a.location?("http://"===L&&-1<a.location.indexOf("https://")&&(a.location=a.location.replace("https://","http://")),c(a.location,e,f,g,!0)):f(a)}};p.onerror=
function(){0<p.status?(d.logWarning("CORS POST request failed."),usePostMethod()&&d.handleZoneId()):d.log("[WARNING] BlueConic request failed, please make sure '"+(T?T:document.location.hostname)+"' is added as a channel (or alias) in BlueConic.");g&&g()};p.onabort=function(a){ja&&console.log("CORS request is aborted.",a)};p.ontimeout=function(a){ja&&console.log("CORS request has timed-out, 30s exceeded.")};p.send(e);return!0}var e=Math.floor(1E3*Math.random())+100,f,g=this,h={};return{get:function(c,
d,f,k,l){var p=-1===(c||"").indexOf("?")?"?":"\x26";d=d||{};for(var m in d)ua.call(d,m)&&(p+=m+"\x3d"+d[m]+"\x26");var p=p+b(c),n="bc_json"+ ++e;g[n]=function(a){f(a);try{delete g[n]}catch(Lb){}g[n]=null};a(c+p+"\x26"+(k||h.callbackName||"callback")+"\x3d"+n,l);return n},post:c,init:function(a){h=a}}}(),resetThrottlingCounter:function(a){h._rpcThrottlingRequestCount=0;a&&h._rpcThrottlingTimeoutHandle&&(clearInterval(h._rpcThrottlingTimeoutHandle),h._rpcThrottlingTimeoutHandle=null)},handleRevisions:function(){var a=
null,b;if(J){b=[];for(var c=0;c<localStorage.length;c++)b.push(localStorage.key(c))}else a=d.getCookies(),b=d.getPropertiesFromObject(a);for(var c=0,e=b.length;c<e;c++){var f=b[c];if(f&&-1!==f.indexOf("BCRevision")){var g;J?g=localStorage.getItem(f):a&&(g=a[f]);var l=d.parseJSON(g);if(l){var p=l.method,m=l.param,l=l.requestId;p&&m&&l&&(k&&d.logInfo("scheduled revision RPC for requestId ["+l+"] with method : ["+p+"]"),m.source=["backlog"],h.addBatchRequest(p,m,l,null,null),J&&localStorage.getItem(f)?
localStorage.removeItem(f):d.setCookie(f,null))}}}},RPCTask:function(a,b,c,e,f){this._id=a+"";this._param=b;this._method=c;this._caller=e;this._callBack=f;this._isFinished=this._isQueued=!1;this._revCookie=this._rpc=null;this.getContentLength=function(){return encodeURIComponent(d.stringifyObject(this.getRPC())).length};this.getId=function(){return this._id.replace("rev_","")};this.isQueued=function(){return this._isQueued};this.getMethod=function(){return this._method};this.queued=function(){this._isQueued=
!0};this.isFinished=function(){return this._isFinished};this.setParameter=function(a){this._param=a;this._rpc=null};this.getParameter=function(){return this._param};this.finished=function(a){this._isFinished=!0;d.handleZoneId(a.zoneId);this.removeRevisionCookie();d.doCallback(this._caller,this._callBack,a)};this.getRPC=function(){this._rpc||(this._rpc={method:encodeURIComponent(this._method),params:d.stringifyObject(this._param),id:encodeURIComponent(this.getId())});return this._rpc};this.setRevisionCookie=
function(){if(!(0===this._id.indexOf("rev")||l.getLevel()===l.DO_NOT_TRACK||this.getContentLength()>xa||this._method!==h.SET_PROPERTIES&&this._method!==h.ADD_PROPERTIES&&this._method!==h.SEND_MAIL&&this._method!==h.CREATE_EVENT||this._method===h.CREATE_EVENT&&this._param&&this._param.type&&"PAGEVIEW"===this._param.type[0])){var a="rev_"+this._id,b=d.stringifyObject({method:this._method,param:this._param,requestId:a}),c="BCRevision_"+this._id,e=function(){d.setCookie(c,b,0);var e=d.getCookie(c);if(!e){for(var e=
d.getCookies(),e=d.getPropertiesFromObject(e),f=0,g=e.length;f<g;f++){var h=e[f];0===h.indexOf("BCRevision")&&d.setCookie(h,null)}d.setCookie(c,b,0);e=d.getCookie(c);if(!e){k&&d.logInfo("could not store revision cookie ["+c+"]");return}}k&&d.logInfo("revision cookie with name ["+c+"] with revision ["+a+"] stored")};if(J){try{localStorage.setItem(c,b)}catch(E){k&&d.logInfo("adding item ["+c+"] to localStorage failed, fallback to cookie.")}localStorage.getItem(c)?k&&d.logInfo("revision with name ["+
c+"] with revision ["+a+"] is stored in localStorage."):e()}else e();this._revCookie=c}};this.removeRevisionCookie=function(){this._revCookie&&(J&&localStorage.getItem(this._revCookie)?(k&&d.logInfo("revision with name ["+this._revCookie+"] removed from localStorage"),localStorage.removeItem(this._revCookie)):(k&&d.logInfo("revision cookie with name ["+this._revCookie+"] removed"),d.setCookie(this._revCookie,null)))}},RemoteRequest:function(a,b,c,e,f){this._caller=b;this._onSuccess=c;this._isFinished=
!1;this._parameter=e;this._requestId=f;this._method=a;this._tasks=[];this.getTasks=function(){return this._tasks};this.isFinished=function(){return this._isFinished};this.toString=function(){for(var a=(new h.RPCTask(this._requestId,this._parameter,this._method,null,null)).getContentLength(),a="RemoteRequest ["+this._requestId+"] - method : ["+this._method+"], Tasks : ["+this._tasks.length+"], contentLength : ["+a+"]",b=0,c=this._tasks.length;b<c;b++){var e=this._tasks[b],f=e.getContentLength(),a=
a+("\x3cbr\x3eTask ["+e.getId()+"] - Content length : ["+f+"]. Is finished ["+e.isFinished()+"]."),e=e.getParameter();if(!e)break;var e=e.properties?e.properties:e,g;for(g in e)if(ua.call(e,g))if(a+="\x3cbr\x3e  -"+g,(f=e[g])&&0!==f.length)if(d.isArray(f))for(var k=0,l=f.length;k<l;k++){var n=f[k];if(""===n)n="(empty string)";else if(null==n||n==G)n="(null or undefined)";a+="\x3cbr\x3e    "+n}else f&&(a+="\x3cbr\x3e    "+f);else a+="\x3cbr\x3e    (null or undefined)"}return a};b=function(a){for(var b=
this._tasks,c=0,e=b.length;c<e;c++)if(!b[c].isFinished())return;this._isFinished=!0;k&&d.logInfo(this.toString());d.doCallback(this._caller,this._onSuccess,a)};c=new h.RPCTask(this._requestId,this._parameter,this._method,this,b);if(c.getContentLength()<=xa)x.call(this._tasks,c);else switch(a){case h.ADD_PROPERTIES:case h.SET_PROPERTIES:c=function(a,b,c){for(var e=[],f=function(a,b){this.properties[a]=d.ensureArray(b)},g=function(a){try{delete this.properties[a]}catch(H){}},m=function(){return 1===
d.getPropertiesFromObject(this.properties).length||(new h.RPCTask(a,this,b,null,null)).getContentLength()<=xa?!0:!1},p=d.getPropertiesFromObject(c.properties),k={properties:{}},l=0,n=p.length;l<n;l++){var r=p[l],q=c.properties[r];f.call(k,r,q);m.call(k)||(g.call(k,r),x.call(e,k),k={properties:{}},f.call(k,r,q))}x.call(e,k);return e}(this._requestId,this._method,this._parameter);e=0;for(var g=c.length;e<g;e++){var l=new h.RPCTask(f+"-"+e,c[e],a,this,b);x.call(this._tasks,l)}break;default:x.call(this._tasks,
c)}},addBatchRequest:function(a,b,c,d,f){a=new h.RemoteRequest(a,d,f,b,c);x.call(h.batchRequests,a)},submitBatchTimeout:function(a){h._batchTimeoutHandle&&clearTimeout(h._batchTimeoutHandle);h._batchTimeoutHandle=setTimeout(function(){h._batchTimeoutHandle=null;h.batchRequests&&0!==h.batchRequests.length&&h.submitBatch()},a)},submitBatch:function(){if(!n.blueconicProxy||Q){var a=function(){var a=Db;if(a)switch(yb){case "FORCE_GET":a=!1;break;case "POST_NATIVE_ONLY":a=XMLHttpRequest.prototype&&B.isNative(XMLHttpRequest.prototype.send,
"XMLHttpRequest.prototype.send")}return a}(),b=function(a){for(var c=[],e=0,g=0,h=a.length;g<h;g++)for(var p=a[g].getTasks(),l=0,n=p.length;l<n;l++){var r=p[l];if(!r.isQueued()){var q=parseInt(r.getContentLength());if(e+q<=xa)r.queued(),e+=q,x.call(c,r);else{0===c.length&&(r.queued(),e+=q,x.call(c,r),k&&d.logInfo("RPC task with id ["+r.getId()+"] method ["+r.getMethod()+" ] contains a profile property value which could be too large too handle.\x3cbr\x3e The size of the RPC is ["+q+"] while the max size is ["+
xa+"]"));f.call(this,c,function(){b.call(this,a)});return}}}0<c.length&&f.call(this,c,null)},c=function(a,b,c){if(a){a=d.ensureArray(a);for(var e=d.getCookies(),f=0;f<a.length;f++){var g=a[f];if(g){e.BCTempID&&g.profileId&&(Oa=!0);d.handleTempProfileId(g.tempId,e);d.handleProfileId(g.profileId,e);for(var m=0;m<b.length;m++){var k=b[m];k.getId()===g.id&&k.finished(g)}}}}else for(a=0;a<b.length;a++)b[a].finished();c&&"function"===typeof c&&c.call(this);h.openRequests--},e=function(a){if(!d.getZoneId())return a;
a&&"/"!==a[a.length-1]&&(a+="/");return a+=d.getZoneId()},f=function(b,f){if(20<=h.openRequests)d.logWarning("Too many open RPC requests (20), task will not be processed");else if(100<=h._rpcThrottlingRequestCount)d.logWarning("Too many RPC requests (100) done in this timeframe (1 minute), task will not be processed.");else{null===h._rpcThrottlingTimeoutHandle&&(h._rpcThrottlingTimeoutHandle=setInterval(function(){h.resetThrottlingCounter(!1)},6E4));h._rpcThrottlingRequestCount++;var g=function(a){var g=
{requests:encodeURIComponent(d.stringifyObject(a))};g.requests&&"null"!==g.requests&&(h.openRequests++,h.JSONP.get(e(h.resourceURL_GET),g,function(a){c(a,b,f)},null,function(){h.JSONP.get(e(h.resourceURL_GET),g,function(a){c(a,b,f)},null,function(){h.openRequests--})}))};if(null!==ka&&ka.BCSessionID&&!d.getCookie("BCSessionID")){t=new Fa;y.clearQueue();for(var k=[],m=0;m<b.length;m++){var l=b[m];-1<[h.ADD_PROPERTIES,h.SET_PROPERTIES].indexOf(l.getMethod())&&(l.finished({}),k.push(l))}for(m=0;m<k.length;m++)d.removeItemFromArray(b,
k[m]);if(0===b.length){f&&"function"===typeof f&&f.call(this);return}}for(var p=[],k=0;k<b.length;k++)x.call(p,b[k].getRPC()),b[k].setRevisionCookie();a?(h.openRequests++,h.JSONP.post(e(h.resourceURL_POST),d.stringifyObject(p),function(a){c(a,b,f)},function(){h.openRequests--;d.logWarning("CORS POST request failed, fallback on JSONP GET request.");g(p)})):g(p)}},g=function(a){for(var b=[],c=0,d=a.length;c<d;c++)for(var e=a[c].getTasks(),f=0,g=e.length;f<g;f++)e[f].isQueued()||(e[f].queued(),x.call(b,
e[f]));return b},l=h.batchRequests;a?(g=g.call(this,l),0<g.length&&f.call(this,g)):b.call(this,l);h.batchRequests=[]}}};(function(){if("undefined"!==typeof bcSubscriptions&&d.isArray(bcSubscriptions)){for(var a=0,b=bcSubscriptions.length;a<b;a++){var c=bcSubscriptions[a];if(!d.isArray(c)||2!==c.length)return;w.subscribe(c[0],null,c[1])}bcSubscriptions={push:function(a){d.isArray(a)&&2===a.length&&w.subscribe(a[0],null,a[1])}}}})();(function(){if("complete"===document.readyState||"interactive"===document.readyState)d.docReady();
else if(document.addEventListener)document.addEventListener("readystatechange",function(){d.docReady()},!1),document.addEventListener("DOMContentLoaded",function(){d.docReady()},!1),n.addEventListener("load",function(){d.docReady()},!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",function(){d.docReady()});n.attachEvent("onload",function(){d.docReady()});var a=!1;try{a=null==n.frameElement}catch(b){}document.documentElement.doScroll&&a&&d.docReady()}})();n.Sizzle&&(n.bcTempSizzle=
n.Sizzle);(function(a){function b(a,b,c,d){var e,u,f,A,g,z=b&&b.ownerDocument,h=b?b.nodeType:9;c=c||[];if("string"!==typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&((b?b.ownerDocument||b:Z)!==D&&L(b),b=b||D,aa)){if(11!==h&&(A=Ha.exec(a)))if(e=A[1])if(9===h)if(u=b.getElementById(e)){if(u.id===e)return c.push(u),c}else return c;else{if(z&&(u=z.getElementById(e))&&V(b,u)&&u.id===e)return c.push(u),c}else{if(A[2])return ra.apply(c,b.getElementsByTagName(a)),c;if((e=A[3])&&H.getElementsByClassName&&
b.getElementsByClassName)return ra.apply(c,b.getElementsByClassName(e)),c}if(!(!H.qsa||ca[a+" "]||O&&O.test(a))){if(1!==h)z=b,g=a;else if("object"!==b.nodeName.toLowerCase()){(f=b.getAttribute("id"))?f=f.replace(za,Aa):b.setAttribute("id",f=I);u=P(a);for(e=u.length;e--;)u[e]="#"+f+" "+v(u[e]);g=u.join(",");z=pa.test(a)&&q(b.parentNode)||b}if(g)try{return ra.apply(c,z.querySelectorAll(g)),c}catch(Mb){ca(a)}finally{f===I&&b.removeAttribute("id")}}}return Y(a.replace(da,"$1"),b,c,d)}function c(){function a(c,
d){b.push(c+" ")>C.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function d(a){a[I]=!0;return a}function f(a){var b=D.createElement("fieldset");try{return!!a(b)}catch(A){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function g(a,b){a=a.split("|");for(var c=a.length;c--;)C.attrHandle[a[c]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function k(a){return function(b){return"input"===
b.nodeName.toLowerCase()&&b.type===a}}function m(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function l(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&Ia(b)===a:b.disabled===a:"label"in b?b.disabled===a:!1}}function n(a){return d(function(b){b=+b;return d(function(c,d){for(var e,u=a([],c.length,b),f=u.length;f--;)c[e=
u[f]]&&(c[e]=!(d[e]=c[e]))})})}function q(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function t(){}function v(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function w(a,b,c){var d=b.dir,e=b.next,u=e||d,f=c&&"parentNode"===u,g=ja++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||f)return a(b,c,e);return!1}:function(b,c,A){var h,z,N=[la,g];if(A)for(;b=b[d];){if((1===b.nodeType||f)&&a(b,c,A))return!0}else for(;b=b[d];)if(1===b.nodeType||f)if(z=b[I]||(b[I]=
{}),z=z[b.uniqueID]||(z[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((h=z[u])&&h[0]===la&&h[1]===g)return N[2]=h[2];z[u]=N;if(N[2]=a(b,c,A))return!0}return!1}}function y(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function x(a,b,c,d,e){for(var u,f=[],g=0,A=a.length,h=null!=b;g<A;g++)if(u=a[g])if(!c||c(u,d,e))f.push(u),h&&b.push(g);return f}function B(a,c,e,f,g,h){f&&!f[I]&&(f=B(f));g&&!g[I]&&(g=B(g,h));return d(function(d,
u,A,h){var z,k,N=[],m=[],l=u.length,n;if(!(n=d)){n=c||"*";for(var p=A.nodeType?[A]:A,La=[],q=0,r=p.length;q<r;q++)b(n,p[q],La);n=La}n=!a||!d&&c?n:x(n,N,a,A,h);p=e?g||(d?a:l||f)?[]:u:n;e&&e(n,p,A,h);if(f)for(z=x(p,m),f(z,[],A,h),A=z.length;A--;)if(k=z[A])p[m[A]]=!(n[m[A]]=k);if(d){if(g||a){if(g){z=[];for(A=p.length;A--;)(k=p[A])&&z.push(n[A]=k);g(null,p=[],z,h)}for(A=p.length;A--;)(k=p[A])&&-1<(z=g?Da(d,k):N[A])&&(d[z]=!(u[z]=k))}}else p=x(p===u?p.splice(l,p.length):p),g?g(null,u,p,h):ra.apply(u,p)})}
function F(a){var b,c,d,e=a.length,f=C.relative[a[0].type];c=f||C.relative[" "];for(var u=f?1:0,g=w(function(a){return a===b},c,!0),h=w(function(a){return-1<Da(b,a)},c,!0),k=[function(a,c,d){a=!f&&(d||c!==U)||((b=c).nodeType?g(a,c,d):h(a,c,d));b=null;return a}];u<e;u++)if(c=C.relative[a[u].type])k=[w(y(k),c)];else{c=C.filter[a[u].type].apply(null,a[u].matches);if(c[I]){for(d=++u;d<e&&!C.relative[a[d].type];d++);return B(1<u&&y(k),1<u&&v(a.slice(0,u-1).concat({value:" "===a[u-2].type?"*":""})).replace(da,
"$1"),c,u<d&&F(a.slice(u,d)),d<e&&F(a=a.slice(d)),d<e&&v(a))}k.push(c)}return y(k)}function S(a,c){var e=0<c.length,f=0<a.length,u=function(d,u,g,A,h){var z,k,m,l=0,N="0",p=d&&[],n=[],q=U,r=d||f&&C.find.TAG("*",h),La=la+=null==q?1:Math.random()||.1,t=r.length;for(h&&(U=u===D||u||h);N!==t&&null!=(z=r[N]);N++){if(f&&z){k=0;u||z.ownerDocument===D||(L(z),g=!aa);for(;m=a[k++];)if(m(z,u||D,g)){A.push(z);break}h&&(la=La)}e&&((z=!m&&z)&&l--,d&&p.push(z))}l+=N;if(e&&N!==l){for(k=0;m=c[k++];)m(p,n,u,g);if(d){if(0<
l)for(;N--;)p[N]||n[N]||(n[N]=sa.call(A));n=x(n)}ra.apply(A,n);h&&!d&&0<n.length&&1<l+c.length&&b.uniqueSort(A)}h&&(la=La,U=q);return p};return e?d(u):u}var J,H,C,M,T,P,W,Y,U,K,R,L,D,ba,aa,O,Q,X,V,I="sizzle"+1*new Date,Z=a.document,la=0,ja=0,ea=c(),fa=c(),ka=c(),ca=c(),ha=function(a,b){a===b&&(R=!0);return 0},qa={}.hasOwnProperty,Ea=[],sa=Ea.pop,ta=Ea.push,ra=Ea.push,oa=Ea.slice,Da=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ua=/[\x20\t\r\n\f]+/g,da=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,
va=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,wa=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,xa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,ya=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,Ca=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ga={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},Fa=/^(?:input|select|textarea|button)$/i,Ga=/^h\d$/i,Ma=
/^[^{]+\{\s*\[native \w/,Ha=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pa=/[+~]/,ma=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,na=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},za=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Aa=function(a,b){return b?"\x00"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},Ba=function(){L()},Ia=w(function(a){return!0===a.disabled&&"fieldset"===
a.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{ra.apply(Ea=oa.call(Z.childNodes),Z.childNodes),Ea[Z.childNodes.length].nodeType}catch(u){ra={apply:Ea.length?function(a,b){ta.apply(a,oa.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}H=b.support={};T=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};L=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:Z;if(a===D||9!==a.nodeType||!a.documentElement)return D;
D=a;ba=D.documentElement;aa=!T(D);Z!==D&&(b=D.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",Ba,!1):b.attachEvent&&b.attachEvent("onunload",Ba));H.attributes=f(function(a){a.className="i";return!a.getAttribute("className")});H.getElementsByTagName=f(function(a){a.appendChild(D.createComment(""));return!a.getElementsByTagName("*").length});H.getElementsByClassName=Ma.test(D.getElementsByClassName);H.getById=f(function(a){ba.appendChild(a).id=I;return!D.getElementsByName||
!D.getElementsByName(I).length});H.getById?(C.filter.ID=function(a){var b=a.replace(ma,na);return function(a){return a.getAttribute("id")===b}},C.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&aa)return(a=b.getElementById(a))?[a]:[]}):(C.filter.ID=function(a){var b=a.replace(ma,na);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}},C.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&aa){var c,d,e=b.getElementById(a);
if(e){if((c=e.getAttributeNode("id"))&&c.value===a)return[e];d=b.getElementsByName(a);for(b=0;e=d[b++];)if((c=e.getAttributeNode("id"))&&c.value===a)return[e]}return[]}});C.find.TAG=H.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(H.qsa)return b.querySelectorAll(a)}:function(a,b){var c=[],d=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[d++];)1===a.nodeType&&c.push(a);return c}return b};C.find.CLASS=H.getElementsByClassName&&
function(a,b){if("undefined"!==typeof b.getElementsByClassName&&aa)return b.getElementsByClassName(a)};Q=[];O=[];if(H.qsa=Ma.test(D.querySelectorAll))f(function(a){ba.appendChild(a).innerHTML="\x3ca id\x3d'"+I+"'\x3e\x3c/a\x3e\x3cselect id\x3d'"+I+"-\r\\' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[msallowcapture^\x3d'']").length&&O.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||O.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~\x3d"+I+"-]").length||O.push("~\x3d");a.querySelectorAll(":checked").length||O.push(":checked");a.querySelectorAll("a#"+I+"+*").length||O.push(".#.+[+~]")}),f(function(a){a.innerHTML="\x3ca href\x3d'' disabled\x3d'disabled'\x3e\x3c/a\x3e\x3cselect disabled\x3d'disabled'\x3e\x3coption/\x3e\x3c/select\x3e";var b=D.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name\x3dd]").length&&O.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");
2!==a.querySelectorAll(":enabled").length&&O.push(":enabled",":disabled");ba.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&O.push(":enabled",":disabled");a.querySelectorAll("*,:x");O.push(",.*:")});(H.matchesSelector=Ma.test(X=ba.matches||ba.webkitMatchesSelector||ba.mozMatchesSelector||ba.oMatchesSelector||ba.msMatchesSelector))&&f(function(a){H.disconnectedMatch=X.call(a,"*");X.call(a,"[s!\x3d'']:x");Q.push("!\x3d",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
O=O.length&&new RegExp(O.join("|"));Q=Q.length&&new RegExp(Q.join("|"));V=(b=Ma.test(ba.compareDocumentPosition))||Ma.test(ba.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&(c.contains?c.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};ha=b?function(a,b){if(a===b)return R=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;
if(c)return c;c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return c&1||!H.sortDetached&&b.compareDocumentPosition(a)===c?a===D||a.ownerDocument===Z&&V(Z,a)?-1:b===D||b.ownerDocument===Z&&V(Z,b)?1:K?Da(K,a)-Da(K,b):0:c&4?-1:1}:function(a,b){if(a===b)return R=!0,0;var c=0,d=a.parentNode,e=b.parentNode,f=[a],g=[b];if(!d||!e)return a===D?-1:b===D?1:d?-1:e?1:K?Da(K,a)-Da(K,b):0;if(d===e)return h(a,b);for(;a=a.parentNode;)f.unshift(a);for(a=b;a=a.parentNode;)g.unshift(a);
for(;f[c]===g[c];)c++;return c?h(f[c],g[c]):f[c]===Z?-1:g[c]===Z?1:0};return D};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==D&&L(a);c=c.replace(xa,"\x3d'$1']");if(!(!H.matchesSelector||!aa||ca[c+" "]||Q&&Q.test(c)||O&&O.test(c)))try{var d=X.call(a,c);if(d||H.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(N){ca(c)}return 0<b(c,D,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==D&&L(a);return V(a,b)};
b.attr=function(a,b){(a.ownerDocument||a)!==D&&L(a);var c=C.attrHandle[b.toLowerCase()],c=c&&qa.call(C.attrHandle,b.toLowerCase())?c(a,b,!aa):G;return c!==G?c:H.attributes||!aa?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.escape=function(a){return(a+"").replace(za,Aa)};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],d=0,e=0;R=!H.detectDuplicates;K=!H.sortStable&&a.slice(0);a.sort(ha);if(R){for(;b=a[e++];)b===
a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}K=null;return a};M=b.getText=function(a){var b,c="",d=0;b=a.nodeType;if(!b)for(;b=a[d++];)c+=M(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=M(a)}else if(3===b||4===b)return a.nodeValue;return c};C=b.selectors={cacheLength:50,createPseudo:d,match:ga,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(ma,na);a[3]=(a[3]||a[4]||a[5]||"").replace(ma,na);"~\x3d"===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(ga.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&ya.test(c)&&
(b=P(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(ma,na).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=ea[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),ea(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||
"")}))},ATTR:function(a,c,d){return function(e){e=b.attr(e,a);if(null==e)return"!\x3d"===c;if(!c)return!0;e+="";return"\x3d"===c?e===d:"!\x3d"===c?e!==d:"^\x3d"===c?d&&0===e.indexOf(d):"*\x3d"===c?d&&-1<e.indexOf(d):"$\x3d"===c?d&&e.slice(-d.length)===d:"~\x3d"===c?-1<(" "+e.replace(ua," ")+" ").indexOf(d):"|\x3d"===c?e===d||e.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:
function(b,c,u){var k,m,l,n,p;c=f!==g?"nextSibling":"previousSibling";var z=b.parentNode,A=h&&b.nodeName.toLowerCase();u=!u&&!h;k=!1;if(z){if(f){for(;c;){for(l=b;l=l[c];)if(h?l.nodeName.toLowerCase()===A:1===l.nodeType)return!1;p=c="only"===a&&!p&&"nextSibling"}return!0}p=[g?z.firstChild:z.lastChild];if(g&&u)for(l=z,m=l[I]||(l[I]={}),m=m[l.uniqueID]||(m[l.uniqueID]={}),k=m[a]||[],k=(n=k[0]===la&&k[1])&&k[2],l=n&&z.childNodes[n];l=++n&&l&&l[c]||(k=n=0)||p.pop();){if(1===l.nodeType&&++k&&l===b){m[a]=
[la,n,k];break}}else if(u&&(l=b,m=l[I]||(l[I]={}),m=m[l.uniqueID]||(m[l.uniqueID]={}),k=m[a]||[],k=n=k[0]===la&&k[1]),!1===k)for(;(l=++n&&l&&l[c]||(k=n=0)||p.pop())&&((h?l.nodeName.toLowerCase()!==A:1!==l.nodeType)||!++k||(u&&(m=l[I]||(l[I]={}),m=m[l.uniqueID]||(m[l.uniqueID]={}),m[a]=[la,k]),l!==b)););k-=e;return k===d||0===k%d&&0<=k/d}}},PSEUDO:function(a,c){var e,f=C.pseudos[a]||C.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[I]?f(c):1<f.length?(e=[a,a,"",c],C.setFilters.hasOwnProperty(a.toLowerCase())?
d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=Da(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=W(a.replace(da,"$1"));return e[I]?d(function(a,b,c,d){d=e(a,null,d,[]);for(var f=a.length;f--;)if(c=d[f])a[f]=!(b[f]=c)}):function(a,d,f){b[0]=a;e(b,null,f,c);b[0]=null;return!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){a=a.replace(ma,na);return function(b){return-1<(b.textContent||b.innerText||
M(b)).indexOf(a)}}),lang:d(function(a){Ca.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(ma,na).toLowerCase();return function(b){var c;do if(c=aa?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===ba},focus:function(a){return a===D.activeElement&&(!D.hasFocus||D.hasFocus())&&
!!(a.type||a.href||~a.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!C.pseudos.empty(a)},header:function(a){return Ga.test(a.nodeName)},input:function(a){return Fa.test(a.nodeName)},button:function(a){var b=
a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:n(function(){return[0]}),last:n(function(a,b){return[b-1]}),eq:n(function(a,b,c){return[0>c?c+b:c]}),even:n(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:n(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:n(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);
return a}),gt:n(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};C.pseudos.nth=C.pseudos.eq;for(J in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[J]=k(J);for(J in{submit:!0,reset:!0})C.pseudos[J]=m(J);t.prototype=C.filters=C.pseudos;C.setFilters=new t;P=b.tokenize=function(a,c){var d,e,f,g,h,k,l;if(h=fa[a+" "])return c?0:h.slice(0);h=a;k=[];for(l=C.preFilter;h;){if(!d||(e=va.exec(h)))e&&(h=h.slice(e[0].length)||h),k.push(f=[]);d=!1;if(e=wa.exec(h))d=e.shift(),f.push({value:d,
type:e[0].replace(da," ")}),h=h.slice(d.length);for(g in C.filter)!(e=ga[g].exec(h))||l[g]&&!(e=l[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):fa(a,k).slice(0)};W=b.compile=function(a,b){var c,d=[],e=[],f=ka[a+" "];if(!f){b||(b=P(a));for(c=b.length;c--;)f=F(b[c]),f[I]?d.push(f):e.push(f);f=ka(a,S(e,d));f.selector=a}return f};Y=b.select=function(a,b,c,d){var e,f,g,h,k="function"===typeof a&&a,l=!d&&P(a=k.selector||a);c=c||[];
if(1===l.length){f=l[0]=l[0].slice(0);if(2<f.length&&"ID"===(g=f[0]).type&&9===b.nodeType&&aa&&C.relative[f[1].type]){b=(C.find.ID(g.matches[0].replace(ma,na),b)||[])[0];if(!b)return c;k&&(b=b.parentNode);a=a.slice(f.shift().value.length)}for(e=ga.needsContext.test(a)?0:f.length;e--;){g=f[e];if(C.relative[h=g.type])break;if(h=C.find[h])if(d=h(g.matches[0].replace(ma,na),pa.test(f[0].type)&&q(b.parentNode)||b)){f.splice(e,1);a=d.length&&v(f);if(!a)return ra.apply(c,d),c;break}}}(k||W(a,l))(d,b,!aa,
c,!b||pa.test(a)&&q(b.parentNode)||b);return c};H.sortStable=I.split("").sort(ha).join("")===I;H.detectDuplicates=!!R;L();H.sortDetached=f(function(a){return a.compareDocumentPosition(D.createElement("fieldset"))&1});f(function(a){a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return"#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});H.attributes&&f(function(a){a.innerHTML="\x3cinput/\x3e";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});f(function(a){return null==a.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null});var Ja=a.Sizzle;b.noConflict=function(){a.Sizzle===b&&(a.Sizzle=
Ja);return b};a.Sizzle=b})(n);var Kb=n.Sizzle;try{n.bcTempSizzle?(n.Sizzle=n.bcTempSizzle,delete n.bcTempSizzle):delete n.Sizzle}catch(a){}var v=n.blueConicClient=B.getBlueConicClient();v.fn.setRequestInfo({});(function(){var a=function(){B.publishPlainEventAndCallHook("onBlueConicLoaded");w.publish(w.ON_BEFORE_PRELISTENERS);B.checkPreListeners();var a=!1,b=!1;k&&d.logInfo("start pageview event");v.createEvent("PAGEVIEW",null,this,function(c){if(!c||0==c.length){k&&d.logInfo("the pageview event did not return any interacion, check if the channel is configured");
var e=document.getElementById(Xa);e&&(e.parentNode.removeChild(e),k&&d.logInfo("removed css for phase 1"))}k&&d.logInfo("[+] finished pageview event ["+c.length+" interactions to run]");qa=c;a=!0;k&&d.logInfo("start hide positions mechanism for positions claimed by the configured interactions");c=[];for(var e=0,f=qa.length;e<f;e++){var g=qa[e].getPosition();g&&x.call(c,g)}d.addCSSToDOM(c,kb,2E3);n.setTimeout(function(){var a=document.getElementById(Xa);a&&a.parentNode.removeChild(a)},1);b=!1;k&&d.logInfo("start plugin download from url [/plugin/plugin] with version ["+
Aa+"]");c=Aa?M+"/plugin/plugin/"+Aa:M+"/plugin/plugin";P&&(c+="_e");d.loadScript(c,this,function(){k&&d.logInfo("finished plugin download");b=!0;b&&a&&(t||d.log("Profile is not initialized"),$a(qa,!0))})})},b=d.getCookie("BCSessionID");b||(b=null);t=new Fa(b);if(P){var c="https:"===document.location.protocol?"https:":"http:",b=-1!=F.indexOf("localhost")?BC_URL+"/frontend/e":c+"//"+F+"/frontend/e";h.JSONP.get(b,null,function(b){b||(L=c+"//",P=!1,M=cb());P&&n.name&&-1<n.name.indexOf("bc_simulator")?
d.loadScript(M+"/simulatordevice",null,function(){a()}):a()})}else a()})()}})(window,this.bcVerbose,this.bcChannelIdentifier,this.bcRpcMode,window.blueconicProxy?window.blueconicProxyHost:this.bcHostname,getDG()||{},getP()||{},window.blueConicPreListeners);})();